# Archery Game - 射箭游戏

一款精致的 SVG 射箭游戏。玩家通过鼠标操控拉弓力度和角度，将箭矢射向远处的靶子。游戏采用真实的物理弧线轨迹模拟，支持精确的碰撞检测，提供靶心和命中两种得分模式，并实时统计射击表现。简洁优雅的界面设计，流畅的动画效果，带来沉浸式的射箭体验。

---

## 🎮 游戏简介

**Archery Game** 是一款基于 SVG 技术开发的射箭模拟游戏。游戏通过鼠标交互实现弓箭的拉弓、瞄准和发射，箭矢沿着真实的抛物线轨迹飞向靶子。系统会根据箭矢命中位置进行精确判定，靶心（Bullseye）得 10 分，普通命中得 5 分，未命中不得分。游戏实时追踪得分、靶心数、射击次数和命中率，让玩家不断挑战自己的射箭技术。

### 核心特色
- **真实物理模拟**：箭矢沿抛物线轨迹飞行，力度影响射程
- **精确碰撞检测**：基于线段相交算法，精确判定命中位置
- **双重评分机制**：靶心 10 分，普通命中 5 分
- **完整统计系统**：得分、靶心数、射击次数、命中率
- **流畅动画效果**：基于 GSAP 动画库，丝滑流畅
- **实时反馈**：每次射击后显示结果通知（靶心/命中/未命中）
- **SVG 矢量图形**：无限缩放不失真，完美适配各种屏幕

---

## 🕹️ 游戏玩法

### 游戏目标
发射箭矢命中靶心，获得最高分数和命中率。

### 操作方式

#### 基础操作
1. **拉弓**：按住鼠标左键不放
   - 按住瞬间，弓箭会被拉开
   - 听到清脆的拉弓音效
   
2. **瞄准**：保持按住鼠标，移动鼠标位置
   - **横向移动**：调整射击角度（左右）
   - **纵向移动**：调整拉弓力度（上下）
   - 屏幕上会显示虚线弧线，预示箭矢轨迹
   - 弓箭会实时跟随鼠标方向旋转
   - 力度越大，弓拉得越满，箭飞得越远

3. **发射**：松开鼠标左键
   - 箭矢沿着弧线轨迹飞出
   - 弓会弹回原位（弹性动画）
   - 虚线轨迹消失

#### 操作技巧
- **鼠标位置越靠左**：拉弓力度越大，射程越远
- **鼠标位置越靠右**：力度减小，射程较近
- **鼠标位置越高/越低**：改变射击角度
- **找到最佳拉弓点**：既能保证力度，又能精确瞄准
- **观察轨迹预览**：利用虚线弧线判断落点

### 评分规则

#### 得分判定
```
🎯 靶心（Bullseye）：+10 分
   - 箭矢命中靶心中心区域（距离靶心 < 7 像素）
   - 显示金色 "BULLSEYE!" 文字动画
   - 弹出通知：🎯 靶心！+10分

✓ 命中（Hit）：+5 分
   - 箭矢命中靶子其他区域
   - 显示青色 "HIT!" 文字动画
   - 弹出通知：✓ 命中！+5分

✗ 未命中（Miss）：0 分
   - 箭矢完全错过靶子
   - 显示红色 "MISS!" 文字动画
   - 弹出通知：✗ 未命中！
```

#### 命中率计算
```
命中率 = (命中次数 / 总射击次数) × 100%
```

**注意**：
- 命中次数 = 靶心次数 + 普通命中次数
- 未命中不计入命中次数
- 每发射一支箭，总射击次数 +1

**示例**：
- 射击 10 次：7 次命中靶子（3 次靶心 + 4 次普通命中），3 次未命中
- 命中率 = 7 / 10 × 100% = 70%
- 得分 = 3×10 + 4×5 = 50 分

### 游戏流程

#### 1. 准备阶段
- 查看顶部统计面板（初始全为 0）
- 阅读游戏说明（点击右上角 ❓ 按钮）
- 观察屏幕布局：
  - 左侧：弓箭（绿色弓 + 箭矢）
  - 右侧：靶子（红白相间的同心圆）
  - 底部：提示信息和控制按钮

#### 2. 瞄准射击
- 按住鼠标左键拉弓
- 移动鼠标调整角度和力度
- 观察虚线轨迹预览
- 确认瞄准后松开鼠标

#### 3. 查看结果
- 箭矢飞行（约 0.5 秒）
- 命中判定：
  - **靶心**：金色 "BULLSEYE!" + 靶心计数 +1 + 得分 +10
  - **命中**：青色 "HIT!" + 得分 +5
  - **未命中**：红色 "MISS!" + 得分不变
- 箭矢留在画面上（可累积多支箭）
- 统计数据自动更新（分数闪烁放大动画）

#### 4. 继续挑战
- 无限制发射箭矢
- 所有箭矢会留在画面上
- 可随时点击"清除箭矢"清理画面
- 可随时点击"重新开始"重置统计

### 控制按钮

#### 🔄 重新开始（Reset）
- 位置：底部左侧
- 功能：
  - 重置所有统计数据（得分、靶心、射击、命中率归零）
  - 清除画面上所有箭矢
  - 弹出通知：游戏已重置！
- 颜色：紫色渐变
- 悬停效果：上浮 3px + 阴影加深

#### 🧹 清除箭矢（Clear）
- 位置：底部右侧
- 功能：
  - 仅清除画面上的箭矢
  - 不影响统计数据
  - 弹出通知：箭矢已清除！
- 颜色：粉紫渐变
- 用途：画面箭矢过多时，清理视野

---

## 🖼️ 界面说明

### 整体布局

```
┌─────────────────────────────────────────────────────┐
│  🎯 Archery Game  [得分] [靶心] [射击] [命中率]    │ ← 顶部固定栏
├─────────────────────────────────────────────────────┤
│                                                  ❓ │ ← 游戏说明（右上）
│                                                     │
│   🏹                                      🎯        │
│  (弓箭)          (虚线轨迹)            (靶子)       │ ← SVG 游戏区
│                                                     │
│                                                     │
│              👆 按住鼠标拉弓，松开发射！             │ ← 底部提示
│              [🔄 重新开始] [🧹 清除箭矢]            │ ← 控制按钮
└─────────────────────────────────────────────────────┘
```

### 界面元素详解

#### 1. 顶部统计栏（固定定位）
- **背景**：半透明深色（毛玻璃效果）
- **位置**：屏幕顶部固定，不随滚动
- **内容**：

**游戏标题**
- 左侧：🎯 Archery Game
- 字体：Fredoka One（圆润可爱）
- 颜色：白色
- 图标：粉色靶心图标

**统计卡片**（4 个）
- 布局：水平排列，响应式换行
- 样式：半透明白色背景，圆角边框

**🏆 得分（Score）**
- 标签：灰色小字"得分"
- 数值：大号白色数字
- 图标：金色奖杯
- 更新动画：放大 1.3 倍 + 金色闪烁

**🎯 靶心（Bullseyes）**
- 标签：灰色小字"靶心"
- 数值：命中靶心的次数
- 图标：青色靶心图标

**🏹 射击（Shots）**
- 标签：灰色小字"射击"
- 数值：总射击次数
- 图标：青色箭头图标

**📊 命中率（Accuracy）**
- 标签：灰色小字"命中率"
- 数值：百分比（如 75%）
- 图标：青色百分号
- 计算：命中次数 / 总射击次数

#### 2. 游戏说明按钮（右上角）
- **位置**：固定在右上角（顶部栏下方）
- **样式**：圆形按钮，紫色渐变
- **图标**：❓ 问号
- **悬停效果**：放大 1.1 倍 + 旋转 15°
- **点击效果**：展开/收起说明面板

**说明面板**（展开后显示）
- 半透明深色背景，毛玻璃效果
- 圆角卡片，阴影效果
- 最大宽度：300px
- 下滑动画（0.3 秒）

**内容**（4 条）：
1. 🖱️ 按住鼠标左键拉弓
2. 👆 移动鼠标调整角度和力度
3. 🎯 松开鼠标发射箭矢
4. ⭐ 靶心得10分，命中得5分

#### 3. SVG 游戏画布
- **尺寸**：宽度 100%，高度自适应
- **视图框**：1000×400 像素
- **光标**：十字准星（crosshair）

**弓箭**（左侧，x=100, y=250）
- 弓身：灰色弧形
- 弓弦：绿色弧线
- 箭矢：灰色箭杆 + 绿色箭羽
- 动画：
  - 拉弓时：弓拉伸变形，箭矢后退
  - 发射时：弓弹回（弹性效果）
- 滤镜：绿色发光阴影

**靶子**（右侧，x=900, y=250）
- 同心圆设计：白→红→白→红（由外到内）
- 靶心：最中心的红点
- 滤镜：红色发光阴影
- 3D 立体感

**虚线轨迹**
- 拉弓时显示：白色半透明弧线
- 渐变效果：从起点到终点逐渐淡化
- 动态更新：跟随鼠标实时变化
- 发射后消失

**箭矢轨迹**
- 沿着预设的贝塞尔曲线飞行
- 箭头自动旋转，始终指向飞行方向
- 飞行时间：0.5 秒
- 箭矢会留在命中位置

**文字动画**（中间区域）
- **BULLSEYE!**：金色，命中靶心时显示
- **HIT!**：青色，普通命中时显示
- **MISS!**：红色，未命中时显示
- 动画效果：
  1. 字母依次弹出（缩放 + 旋转）
  2. 停留 2 秒
  3. 字母依次旋转消失

#### 4. 底部提示（底部中央）
- **背景**：半透明白色，毛玻璃效果
- **形状**：圆角胶囊（border-radius: 50px）
- **内容**：👆 按住鼠标拉弓，松开发射！
- **动画**：脉动效果（2 秒周期，透明度 0.6-1，缩放 1-1.05）
- **位置**：距离底部 120px

#### 5. 控制按钮（底部中央）
- **位置**：固定在底部，水平居中
- **间距**：按钮间距 1rem
- **动画**：悬停上浮，点击回弹

**🔄 重新开始**
- 背景：紫色渐变（#667eea → #764ba2）
- 图标：循环箭头
- 文字：重新开始
- 悬停：上浮 3px + 阴影放大

**🧹 清除箭矢**
- 背景：粉紫渐变（#f093fb → #f5576c）
- 图标：橡皮擦
- 文字：清除箭矢
- 悬停：上浮 3px + 阴影放大

#### 6. 通知系统（顶部中央弹出）
- **位置**：顶部 120px，水平居中
- **动画**：下滑淡入（0.5 秒），停留 2 秒，上滑淡出（0.5 秒）
- **样式**：圆角胶囊，白色文字，阴影

**三种类型**：
- **成功**（靶心/命中）：蓝色渐变 (#4facfe → #00f2fe)
- **警告**（未命中）：粉黄渐变 (#fa709a → #fee140)
- **信息**（重置/清除）：紫色渐变 (#667eea → #764ba2)

### 视觉设计

**配色方案**
- 主色：紫色渐变 (#667eea → #764ba2)
- 辅色：粉紫渐变 (#f093fb → #f5576c)
- 成功色：蓝色渐变 (#4facfe → #00f2fe)
- 警告色：粉黄渐变 (#fa709a → #fee140)
- 背景：深蓝渐变 (#2d3561 → #1a1a2e → #0f3460)
- 文字：白色 (#ffffff)

**字体**
- 标题：Fredoka One（圆润、可爱）
- 正文：Poppins（现代、清晰）
- 权重：300-800

**动画效果**
- 拉弓：弓箭拉伸 + 箭矢后移（0.3 秒）
- 发射：弓弹回（0.4 秒，弹性缓动）
- 飞行：箭矢沿贝塞尔曲线（0.5 秒）
- 文字：字母弹出 + 旋转消失（2.5 秒总时长）
- 分数：放大闪烁（0.3 秒）
- 按钮：悬停上浮（0.3 秒）
- 提示：脉动（2 秒周期）

### 响应式设计

**平板端（≤768px）**
- 顶部栏：垂直排列
- 统计卡片：2×2 网格
- 游戏说明：移到底部右侧
- 字号缩小

**手机端（≤480px）**
- 标题字号：1.3rem
- 统计卡片：50% 宽度，2 行
- 图标缩小
- 按钮字号缩小

---

## 📝 反馈与支持

### 游戏技巧

#### 新手入门
1. **熟悉操作**
   - 先多次练习拉弓和发射，熟悉手感
   - 观察虚线轨迹，理解力度和角度的关系
   - 不要急于求成，慢慢调整

2. **理解物理**
   - 鼠标越靠左（向后拉）：力度越大，箭飞得越远
   - 鼠标越靠上/下：角度改变，影响弧线形状
   - 靶子距离较远，需要足够的拉弓力度

3. **找准感觉**
   - 多次射击后，记住命中靶心时的鼠标位置
   - 每次尽量在相同位置拉弓
   - 建立肌肉记忆

#### 进阶技巧
1. **精确瞄准**
   - 利用虚线轨迹预判落点
   - 轨迹终点应该对准靶心
   - 微调鼠标位置，细化角度

2. **力度控制**
   - 靶子在右侧较远位置，需要较大力度
   - 通常鼠标拉到左侧 1/3 位置较合适
   - 力度过小箭会掉落，力度过大箭会飞过

3. **角度掌握**
   - 鼠标高度决定射击角度
   - 较高角度：箭矢弧线更弯曲
   - 较低角度：箭矢轨迹更平直
   - 找到最佳平衡点

#### 挑战目标
- **初级**：命中率 > 50%，得分 > 50
- **中级**：命中率 > 70%，靶心率 > 30%
- **高级**：命中率 > 90%，靶心率 > 50%
- **大师**：连续 10 次全部命中靶心（100 分）

### 物理机制说明

#### 轨迹计算
游戏使用贝塞尔曲线模拟抛物线轨迹：
- 起点：弓箭位置 (100, 250)
- 控制点：根据拉弓力度和角度计算
- 终点：由力度和角度决定的落点
- 箭矢沿曲线飞行，自动旋转对齐方向

#### 碰撞检测
采用线段相交算法：
- 箭矢被视为一条线段（箭头到箭尾）
- 靶子边界定义为目标线段
- 实时检测箭矢线段与靶子线段的相交
- 计算交点到靶心的距离，判定得分类型

#### 随机因素
每次拉弓时添加微小随机角度（±0.015 弧度）：
- 增加游戏难度
- 模拟真实射箭的不确定性
- 考验玩家的连续稳定性

### 常见问题

**Q: 为什么每次瞄准相同位置，结果却不同？**  
A: 游戏加入了微小的随机角度偏移（±0.015 弧度），模拟真实射箭的不稳定因素，增加挑战性。

**Q: 如何提高命中率？**  
A: 多练习找到最佳的鼠标位置和拉弓力度。利用虚线轨迹预判落点，微调角度。建议先追求稳定命中，再追求靶心。

**Q: 命中率是如何计算的？**  
A: 命中率 = (靶心次数 + 普通命中次数) / 总射击次数 × 100%。只要箭矢碰到靶子就算命中。

**Q: 箭矢太多影响视野怎么办？**  
A: 点击底部的"清除箭矢"按钮，可以清理画面上的所有箭矢，但不会影响统计数据。

**Q: 如何重新开始游戏？**  
A: 点击"重新开始"按钮会重置所有统计数据（得分、靶心、射击、命中率归零），同时清除所有箭矢。

**Q: 点击 UI 按钮时会发射箭矢吗？**  
A: 不会。游戏已经过滤了 UI 元素的点击事件，点击顶部栏、说明面板、按钮等不会触发射击。

**Q: 支持触屏设备吗？**  
A: 游戏主要为鼠标操作优化，触屏设备可能体验不佳。建议使用 PC 或笔记本电脑游玩。

**Q: 为什么有时候明明对准靶心，却是普通命中？**  
A: 靶心判定非常严格（距离 < 7 像素）。可能是角度或力度略有偏差，或者受到随机因素影响。

### 技术要求

**必需技术**
- **SVG**：矢量图形渲染
- **GSAP (GreenSock Animation Platform)**：动画引擎
  - TweenMax：补间动画
  - MorphSVGPlugin：SVG 形状变形和路径动画
- **现代浏览器**：支持 SVG 和 ES6+

**外部依赖**
1. **GSAP 1.19.1**
   - CDN: `https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js`
   
2. **MorphSVGPlugin**
   - CDN: `https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin.min.js`
   - 用途：将 SVG 路径数据转换为贝塞尔曲线

3. **Font Awesome 6.4.0**
   - CDN: `https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css`
   - 用途：图标（奖杯、靶心、箭头等）

4. **Google Fonts**
   - Poppins（正文字体，300-800 字重）
   - Fredoka One（标题字体）

**推荐浏览器**
- Chrome 90+（最佳）
- Edge 90+
- Firefox 88+
- Safari 14+
- **不支持**：IE 浏览器

**性能要求**
- CPU：中等（动画计算）
- GPU：轻量（SVG 渲染）
- 内存：< 50MB

### 联系我们

如遇到游戏 Bug、有改进建议或想分享高分，欢迎通过以下方式联系：

**功能建议**
- 难度级别（移动靶子、风力影响）
- 关卡模式（不同距离、不同靶子大小）
- 计时挑战（限时内最高分）
- 成就系统（连击奖励、完美射手徽章）
- 排行榜（本地最高分记录）
- 多种箭矢皮肤
- 音效和背景音乐
- 多人对战模式

**技术讨论**
- 物理引擎优化
- 碰撞检测算法改进
- 动画性能提升
- 响应式适配
- 触屏支持

---

## 🎯 游戏信息

- **游戏类型**：动作 / 射击 / 技巧
- **难度等级**：中等 ★★☆☆☆
- **平均游戏时长**：无限制（休闲玩法）
- **技术栈**：
  - HTML5 + CSS3
  - SVG 矢量图形
  - 原生 JavaScript
  - GSAP 动画库
  - Font Awesome 图标
  - Google Fonts 字体
- **核心算法**：
  - 贝塞尔曲线轨迹计算
  - 线段相交碰撞检测
  - 实时物理模拟
- **统计维度**：得分、靶心数、射击次数、命中率

---

**准备好挑战你的射箭技术了吗？拉满弓，瞄准靶心，松开！** 🏹🎯
