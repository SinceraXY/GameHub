# 🐦 Flappy Bird | 飞扬的小鸟

经典的 Flappy Bird 游戏，使用 Canvas 技术重现这款风靡全球的横版飞行游戏！

## 📖 游戏简介

Flappy Bird 是一款极具挑战性的横版飞行游戏。玩家通过点击屏幕控制小鸟上下飞行，穿越一系列管道障碍物。游戏操作简单，但难度极高，考验玩家的反应速度和手眼协调能力。

### 游戏特色
- **经典玩法**：忠实还原 Flappy Bird 经典体验
- **Canvas 绘图**：基于 HTML5 Canvas 实现流畅动画
- **物理引擎**：真实的重力加速和跳跃系统
- **碰撞检测**：精确的碰撞判定算法
- **实时计分**：每通过一个管道自动计分
- **最高分记录**：自动保存并显示历史最高分
- **新纪录提示**：打破记录时有特殊庆祝界面
- **本地存储**：最高分持久化保存

## 🎮 游戏玩法

### 基本操作

游戏支持三种操作方式：
- **鼠标点击**：点击游戏画布任意位置
- **触摸屏幕**：在移动设备上触摸屏幕
- **空格键**：按键盘空格键

每次操作让小鸟向上飞一次，不操作时小鸟会受重力下落。

### 游戏规则

1. **游戏目标**
   - 控制小鸟飞越尽可能多的管道
   - 避免撞到管道或边界
   - 挑战自己的最高分

2. **得分规则**
   - **通过管道**：每成功通过一组管道（上下两根）得 **0.5 分**
   - **显示分数**：向下取整显示（如 5.5 分显示为 5 分）
   - **最终统计**：游戏结束时显示本局得分

3. **游戏结束条件**
   - **撞到管道**：小鸟与任何管道碰撞
   - **掉落底部**：小鸟掉到画布底部
   - **飞出顶部**：小鸟飞出画布顶部

### 游戏流程

1. **游戏开始前**
   - 显示"Flappy Bird"标题
   - 提示"Press, touch or click to start"
   - 显示当前最高分（如果有）
   - 小鸟悬停在画面中央

2. **游戏进行中**
   - 点击/按键让小鸟向上跳跃
   - 小鸟自动向右移动（视觉上是管道向左移动）
   - 左上角显示当前分数和最高分
   - 底部滚动条营造移动感

3. **游戏结束时**
   - 显示半透明黑色遮罩
   - 显示"Game Over"红色标题
   - 显示本局得分
   - 如果打破记录，显示"🎉 NEW RECORD! 🎉"
   - 否则显示"🏆 High Score: X"
   - 提示"Click, touch, or press to play again"
   - 等待 1 秒后可重新开始

## 🖥️ 界面说明

### 游戏外部界面

#### 顶部标题区
- **游戏标题**："🐦 Flappy Bird"
  - 小鸟图标带飞行动画（上下浮动 + 轻微旋转）
  - 标题带跳动动画
  - Pacifico 手写字体
  - 白色文字带阴影效果
  
- **副标题**："点击或按空格键控制小鸟飞翔"
  - 提示操作方式

#### 游戏画布区
- **Canvas 尺寸**：620 × 480 像素
- **边框样式**：白色半透明边框 + 圆角 + 阴影
- **背景图片**：天空背景（蓝色调）
- **悬停效果**：鼠标悬停时画布上浮
- **点击效果**：点击时轻微下沉

#### 底部信息区
两个信息卡片（带毛玻璃效果）：
- **🎮 点击屏幕或按空格键控制**
- **🎯 避开管道，飞得更远！**

#### 功能特色标签
四个功能标签（金色边框）：
- **📊 实时计分**
- **🏆 最高分记录**
- **🎉 破纪录提示**
- **💾 本地存储**

### 游戏内部界面（Canvas 内）

#### 开始前界面
- **标题**："Flappy Bird"（金色粗体，黑色描边）
- **提示文字**："Press, touch or click to start"（白色）
- **最高分显示**："🏆 High Score: X"（金色，仅当有最高分时显示）

#### 游戏中界面

**左上角信息面板**（半透明黑色背景 + 金色边框）：
- **当前分数**："🐦 Score: X"（白色粗体）
- **最高分**："🏆 Best: X"（金色）

**游戏元素**：
- **小鸟**：黄色小鸟精灵
  - 向上飞时头部抬起（-15°）
  - 下落时头部下垂（最多 70°）
  - 位置固定在画面左侧 1/3 处
  
- **管道**：绿色管道
  - 上下成对出现
  - 从右向左移动
  - 间隙大小递减（140 → 100 → 80 → 60）
  - 总共 13 组管道
  
- **底部滚动条**：地面图片
  - 循环滚动效果
  - 营造横向移动感

- **终点线**：特殊标记
  - 位于最后一组管道后方
  - X 坐标：3900

#### 游戏结束界面

**背景遮罩**：半透明黑色（70% 透明度）

**主要内容**：
- **标题**："Game Over"
  - 红色粗体大字（50px）
  - 黑色描边
  - 居中显示

- **分数面板**（白色半透明背景 + 金色边框）
  - **标签**："🐦 Your Score"（白色，28px）
  - **分数**：大号金色数字（40px）
  - **最高分/新纪录**：
    - 新纪录："🎉 NEW RECORD! 🎉"（粉红色闪烁）
    - 未破记录："🏆 High Score: X"（白色）

- **重新开始提示**："Click, touch, or press to play again"
  - 白色文字 + 黑色描边
  - 底部居中显示

## 🎨 视觉效果

### 配色方案
- **背景渐变**：紫色渐变（#667eea → #764ba2）
- **小鸟颜色**：黄色
- **管道颜色**：绿色
- **分数颜色**：金色（#FFD700）
- **标题颜色**：金色/红色（Game Over）
- **文字颜色**：白色 + 黑色描边

### 动画效果

1. **页面淡入**：整个容器淡入 + 上浮（0.6 秒）
2. **标题跳动**：上下循环跳动（2 秒周期）
3. **小鸟飞行**：图标上下浮动 + 左右轻微旋转（3 秒周期）
4. **画布悬停**：悬停上浮 4px
5. **卡片悬停**：信息卡片上浮 2px + 背景变亮
6. **标签悬停**：功能标签上浮 3px + 缩放 1.05 倍
7. **底部滚动**：地面图片循环滚动
8. **小鸟倾斜**：根据速度动态调整角度

### 物理效果
- **重力加速**：每帧速度 +1
- **跳跃力度**：-7 向上速度
- **最大下落速度**：10
- **管道移动速度**：-2（向左）

## 🎯 游戏机制

### 物理系统

#### 重力系统
```javascript
初始速度: 0
每帧加速度: +1
最大下落速度: 10
跳跃速度: -7
```

#### 小鸟倾斜角度
- **向上飞**：角度 = -15°（头部抬起）
- **下落时**：角度逐渐增加，最大 70°（头部下垂）
- **每帧增量**：+4°

### 管道系统

#### 管道配置
游戏共有 **13 组管道**，配置如下：

| 序号 | X位置 | 间隙顶部 | 间隙宽度 | 难度 |
|------|-------|---------|---------|------|
| 1 | 500 | 100 | 140 | 简单 |
| 2 | 800 | 50 | 140 | 简单 |
| 3 | 1000 | 250 | 140 | 简单 |
| 4 | 1200 | 150 | 120 | 中等 |
| 5 | 1600 | 100 | 120 | 中等 |
| 6 | 1800 | 150 | 120 | 中等 |
| 7 | 2000 | 200 | 120 | 中等 |
| 8 | 2200 | 250 | 120 | 中等 |
| 9 | 2400 | 30 | 100 | 困难 |
| 10 | 2700 | 300 | 100 | 困难 |
| 11 | 3000 | 100 | 80 | 极难 |
| 12 | 3300 | 250 | 80 | 极难 |
| 13 | 3600 | 50 | 60 | 极难 |

- **终点线位置**：X = 3900
- **理论最高分**：13 分（通过所有管道）

#### 管道特点
- 每组管道由上下两根组成
- 上管道正常显示，下管道垂直翻转
- 间隙宽度逐渐递减（140 → 120 → 100 → 80 → 60）
- 所有管道统一向左移动（速度 -2）

### 碰撞检测
采用 **AABB（轴对齐包围盒）** 算法：
```javascript
碰撞条件：
  X轴重叠 AND Y轴重叠
  
检测范围：
  小鸟矩形 vs 管道矩形
```

### 计分机制
```javascript
计分方式：
  每通过一组管道（上下两根）+0.5 分
  
计算方法：
  统计小鸟X坐标超过的管道数量
  分数 = 通过的管道数 × 0.5
  
显示方式：
  向下取整显示
  （5.5 分显示为 5 分）
```

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html` 文件
2. 等待游戏资源加载完成
3. 点击/触摸/按空格键开始游戏
4. 控制小鸟飞越管道！

### 依赖资源（外部 CDN）
- **Google Fonts**: Pacifico 手写字体
- **游戏素材**（来自 s2js.com）：
  - 小鸟精灵图片
  - 管道图片
  - 底部地面图片
  - 背景图片
  - 终点线图片

### 浏览器要求
- ✅ 支持 HTML5 Canvas
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器
- ⚠️ 需要网络连接（加载外部图片资源）

## 💡 游戏技巧

### 新手技巧
1. **节奏掌握**：找到点击的节奏感，不要连续快速点击
2. **提前预判**：观察前方管道位置，提前调整高度
3. **保持冷静**：越急躁越容易失误，保持平稳心态
4. **高度控制**：尽量让小鸟保持在画面中央高度
5. **间隙中心**：瞄准管道间隙的中心位置飞行

### 进阶技巧
1. **单次点击**：每次只点击一次，避免过度上升
2. **惯性利用**：利用下落惯性，减少点击频率
3. **角度观察**：注意小鸟倾斜角度，判断当前速度
4. **间隙递减**：越往后间隙越窄，需要更精确控制
5. **底部滚动**：利用底部滚动条作为速度参考

### 高手技巧
1. **最小操作**：用最少的点击次数通过管道
2. **边缘穿越**：敢于贴近管道边缘飞行（不推荐新手）
3. **速度感知**：凭感觉判断当前下落速度，精准点击
4. **连续通过**：保持稳定节奏，连续通过多个管道
5. **心理训练**：练习抗压能力，高分时保持冷静

## 🏆 成就挑战

根据分数划分难度等级：

- 🥉 **新手**：通过 1 个管道（1 分）
- 🥈 **入门**：通过 3 个管道（3 分）
- 🥇 **熟练**：通过 5 个管道（5 分）
- 💎 **高手**：通过 8 个管道（8 分）
- 👑 **大师**：通过 10 个管道（10 分）
- 🌟 **传奇**：通过全部 13 个管道（13 分）

**注意**：由于间隙递减，后期难度极高，10 分以上已经非常优秀！

## 📄 文件结构

```
Flappy-Bird/
├── index.html          # 游戏主页面（HTML 结构）
├── style.css           # 样式表（UI 设计、动画）
├── script.js           # 游戏逻辑（Canvas 绘图、物理、碰撞）
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
// 游戏配置
FPS: 40                    // 帧率（每秒 40 帧）
Canvas尺寸: 620 × 480      // 画布大小

// 物理参数
跳跃速度: -7               // 向上加速度
重力加速度: 1              // 每帧速度增量
最大下落速度: 10           // 速度上限
管道移动速度: -2           // 向左移动

// 角度参数
向上飞角度: -15°           // 头部抬起
最大下降角度: 70°          // 头部下垂
角度增量: 4°/帧            // 下落时角度变化

// 位置参数
小鸟X位置: 620/3 ≈ 207    // 画面左侧 1/3
小鸟初始Y: 480/2 = 240    // 画面垂直居中
```

### 游戏循环
```javascript
setInterval(Do_a_Frame, 1000/40);  // 每 25ms 执行一次

每帧执行：
  1. 清空画布
  2. 绘制小鸟
  3. 绘制底部滚动条
  4. 根据游戏状态：
     - prestart: 显示开始提示
     - running: 更新物理、检测碰撞、显示分数
     - over: 显示游戏结束界面
```

### 本地存储
```javascript
存储键: 'flappybird_highscore'
存储值: 整数（最高分）
存储时机: 每次打破记录时
加载时机: 游戏初始化时
```

### 精灵系统
- 自定义 `MySprite` 类
- 支持位置、速度、角度、翻转
- 每帧自动更新位置和渲染
- 管道使用垂直翻转实现上下对称

## 📱 响应式支持

### 桌面设备（> 768px）
- Canvas 固定尺寸 620 × 480
- 完整界面显示
- 推荐使用鼠标或键盘操作

### 平板设备（≤ 768px）
- Canvas 自适应宽度，高度等比缩放
- 信息卡片垂直排列
- 标题字体缩小到 2.5rem

### 手机设备（≤ 480px）
- Canvas 全宽显示
- 标题字体进一步缩小到 2rem
- 优化触摸操作体验
- 信息文字缩小到 0.85rem

## 🐛 反馈与支持

### 常见问题

**Q: 为什么小鸟会自动下落？**  
A: 游戏模拟真实重力，小鸟受重力影响会自然下落。需要通过点击产生向上的力量对抗重力。

**Q: 如何让小鸟飞得更稳？**  
A: 不要频繁点击，找到点击的节奏。建议每次点击后等小鸟上升到顶点再次点击。

**Q: 分数为什么是小数？**  
A: 每通过一组管道（上下两根）得 0.5 分。显示时会向下取整，所以看到的是整数。

**Q: 最高分记录保存在哪里？**  
A: 保存在浏览器的 localStorage 中，除非清除浏览器数据，否则永久保留。

**Q: 游戏有终点吗？**  
A: 有的，通过全部 13 组管道后会看到终点线。理论最高分是 13 分（实际显示可能是 12 分）。

**Q: 为什么后面的管道越来越难？**  
A: 管道间隙从 140 递减到 60，越往后越窄，难度逐渐增加。

**Q: 点击没反应怎么办？**  
A: 确保游戏资源已加载完成。如果是游戏结束状态，需要等待 1 秒后才能重新开始。

**Q: 可以用键盘控制吗？**  
A: 可以！按空格键即可控制小鸟跳跃。

### 已知限制
- 需要网络连接加载外部图片资源
- Canvas 在某些老旧浏览器可能不支持
- 移动端横屏体验可能不佳
- 没有音效和背景音乐

### 性能优化建议
- 使用现代浏览器获得最佳性能
- 关闭不必要的浏览器扩展
- 如果卡顿，尝试刷新页面重新加载

### 未来改进方向
- 🔊 添加音效和背景音乐
- 🎨 更多皮肤和主题选择
- 🏅 在线排行榜系统
- 📊 详细的游戏数据统计
- 🎯 每日挑战模式
- 💾 离线资源支持

---

**准备好挑战你的极限了吗？开始飞翔吧！** 🐦✨
