# 🎹 Piano Tiles | 钢琴块

经典的钢琴块游戏，测试你的反应速度和节奏感！点击黑色方块，不要踩白块！

## 📖 游戏简介

Piano Tiles（别踩白块儿）是一款风靡全球的音乐节奏游戏。游戏中黑色方块会从屏幕顶部不断向下滑动，玩家需要快速点击黑色方块，避免点击白色方块或让黑色方块滑出屏幕。随着游戏进行，速度会逐渐加快，考验你的反应速度和手眼协调能力。连续点击可获得连击加成，分数倍增！

### 游戏特色
- **三种难度**：简单、普通、困难，适合不同水平玩家
- **连击系统**：连续点击获得分数加成（最高 ×8 倍）
- **动态速度**：速度随分数增加，挑战极限
- **精美界面**：渐变色彩、流畅动画
- **本地存储**：分难度保存最高分记录
- **响应式设计**：完美适配手机、平板、电脑
- **实时反馈**：连击提示、错过动画

## 🎮 游戏玩法

### 基本操作

- **鼠标点击**：点击黑色方块
- **触摸点击**：移动设备上触摸黑色方块

### 游戏规则

#### 核心规则
1. ✅ **点击黑色方块**：得分 +1（有连击加成）
2. ❌ **点击白色方块**：游戏结束
3. ❌ **黑色方块滑出屏幕**：游戏结束

#### 得分系统

**基础分数**：每点击一个黑色方块 **+1 分**

**连击加成**：
| 连击数 | 分数倍数 | 每块得分 |
|-------|---------|---------|
| 1-9 连击 | ×1 | 1 分 |
| 10-19 连击 | ×2 | 2 分 |
| 20-29 连击 | ×3 | 3 分 |
| 30-49 连击 | ×5 | 5 分 |
| 50+ 连击 | ×8 | 8 分 |

**示例**：
- 点击 50 个黑块且无失误 = 1×9 + 2×10 + 3×10 + 5×20 + 8×1 = 9 + 20 + 30 + 100 + 8 = **167 分**

#### 速度系统

**初始速度**（像素/帧）：
- 简单：1.2
- 普通：1.5
- 困难：2.0

**速度增长**：
- 简单：每次点击 +0.02
- 普通：每次点击 +0.03
- 困难：每次点击 +0.05

**速度效果**：
- 速度越快，方块下降越快
- 留给玩家反应的时间越短
- 顶部速度条实时显示当前速度

### 难度选择

游戏提供 **3 种难度**（游戏前可选择）：

#### 🐢 简单模式
- **初始速度**：1.2 像素/帧（最慢）
- **速度增长**：0.02/次（最慢）
- **适合人群**：新手玩家
- **特点**：节奏缓慢，容易上手

#### 🎵 普通模式（默认）
- **初始速度**：1.5 像素/帧
- **速度增长**：0.03/次
- **适合人群**：有一定基础的玩家
- **特点**：节奏适中，挑战性适度

#### 🚀 困难模式
- **初始速度**：2.0 像素/帧（最快）
- **速度增长**：0.05/次（最快）
- **适合人群**：高手玩家
- **特点**：节奏极快，考验极限反应

### 游戏流程

1. **选择难度**：点击难度按钮选择（默认普通）
2. **开始游戏**：点击"▶️ 开始游戏"
3. **点击方块**：快速点击下降的黑色方块
4. **保持连击**：连续点击保持高连击倍数
5. **观察速度**：注意速度条，越来越快
6. **游戏结束**：失误后显示最终分数
7. **再玩一次**：点击"🔄 再玩一次"重新开始

## 🖥️ 界面说明

### 游戏头部
位于顶部的标题区域：
- **钢琴图标**：🎹（带跳动动画）
- **游戏标题**："Piano Tiles"（渐变文字）
- **副标题**："点击黑色方块，不要踩白块！"

### 统计面板
三个统计卡片实时显示：

1. **🎯 当前分数**
   - 显示本局游戏的得分
   - 黑色数字
   - 实时更新

2. **⚡ 连击**
   - 显示当前连击数
   - 红色高亮显示
   - 失误后重置为 0

3. **🏆 最高分**
   - 显示当前难度的历史最高分
   - 保存在本地
   - 切换难度时更新

### 难度选择区
紫色渐变背景区域：
- **标签**："难度："
- **三个按钮**：
  - 🐢 简单（绿色边框）
  - 🎵 普通（默认激活，深色渐变）
  - 🚀 困难（红色边框）
- **激活状态**：选中的按钮显示深色渐变背景
- **限制**：游戏进行中无法切换

### 游戏区域
主要游戏区域，深色边框：

#### 游戏画布
- **尺寸**：最大 400px 宽，500px 高（桌面）
- **背景**：灰白竖条纹（模拟钢琴键盘）
- **边框**：4px 深色边框
- **布局**：4 列，每列 25% 宽度

#### 钢琴块
**黑色方块**：
- **颜色**：深灰到黑色渐变
- **高度**：125px（桌面），100px（平板），87.5px（手机）
- **边框**：1px 半透明边框
- **阴影**：内阴影增强立体感
- **点击后**：
  - 变为红色渐变（#e94560 → #ff6b81）
  - 缩小到 0.95 倍
  - 发光效果

**白色方块**：
- **颜色**：白色到浅灰渐变
- **边框**：1px 半透明边框
- **阴影**：轻微内阴影

**错过的方块**（missed）：
- **颜色**：红色渐变闪烁
- **动画**：左右震动（0.3 秒）

#### 速度指示器
位于游戏画布下方：
- **标签**："速度："
- **进度条**：
  - 背景：浅灰色
  - 填充：渐变色（绿→黄→红）
  - 范围：0-100%（对应速度 0-10）
  - 发光效果：红色光晕

### 控制按钮区
三个大按钮（深色渐变）：

1. **▶️ 开始游戏**（深色渐变）
   - 初始状态显示
   - 点击后隐藏

2. **⏸️ 暂停 / ▶️ 继续**（灰色渐变）
   - 游戏中显示
   - 点击切换暂停/继续
   - 图标和文字同步变化

3. **🔄 重新开始**（蓝色渐变）
   - 游戏中显示
   - 点击重置游戏

### 游戏说明区
粉红色渐变背景框：

**标题**："🎮 游戏说明"

**规则列表**（5 条）：
- ▸ 点击**黑色方块**得分
- ▸ 不要点击**白色方块**
- ▸ 不要让黑色方块滑出屏幕
- ▸ **连击加成**：10连击×2分，20连击×3分，30连击×5分，50连击×8分
- ▸ 速度会逐渐加快！

### 游戏结束弹窗
半透明黑色遮罩 + 白色卡片：

**主要内容**：
- **钢琴图标**：🎹（缩放动画）
- **标题**："游戏结束！"
- **统计面板**（两列布局）：
  - **最终分数**：渐变色大号数字
  - **最高连击**：渐变色大号数字
- **评价消息**（根据分数）：
  - 300+ 分："🏆 钢琴大师！你的手速惊人！"
  - 200-299 分："🌟 非常棒！节奏感超强！"
  - 100-199 分："👍 不错！继续努力！"
  - 50-99 分："💪 还行，多练习会更好！"
  - < 50 分："😊 加油！保持连击可以得更多分！"
- **🔄 再玩一次按钮**（深色渐变）

### 连击提示（Toast）
屏幕上方中央浮动提示：

**显示时机**：
- 每 10 连击时
- 达到加成阶段时（20、30、50 连击）

**显示内容**：
- "10 COMBO! ×2"
- "20 COMBO! ×3"
- "30 COMBO! ×5"
- "50 COMBO! ×8"

**样式**：
- 红色渐变背景
- 大号白色文字（2.5rem）
- 发光阴影
- 缩放弹出动画
- 1 秒后自动消失
- 不阻挡点击事件

## 🎨 视觉效果

### 配色方案
- **主色调**：深色系（#1a1a2e → #16213e）
- **强调色**：红色（#e94560）
- **背景渐变**：深蓝紫（#0f0c29 → #302b63 → #24243e）
- **成功色**：绿色（#48bb78）
- **警告色**：黄色（#f6e05e）
- **信息色**：蓝色（#4299e1）

### 动画效果

1. **页面淡入**：整个容器淡入 + 上浮（0.6 秒）
2. **图标跳动**：钢琴图标上下跳动（2 秒循环）
3. **卡片悬停**：统计卡片上浮 5px + 阴影增强
4. **方块下降**：流畅的位置更新（requestAnimationFrame）
5. **点击反馈**：
   - 黑块变红色 + 缩小 + 发光
   - 白块点击后游戏结束
6. **错过动画**：红色闪烁 + 左右震动（0.3 秒）
7. **连击提示**：缩放弹出 + 上浮 + 淡入（0.5 秒）
8. **弹窗动画**：
   - 背景淡入（0.3 秒）
   - 卡片下滑 + 淡入（0.4 秒）
   - 图标缩放弹跳（0.6 秒）
9. **按钮交互**：悬停上浮 2px，点击下沉
10. **速度条**：渐变色填充，平滑过渡（0.3 秒）

### 特殊效果
- **渐变文字**：标题使用渐变色裁剪
- **内阴影**：方块使用内阴影增强立体感
- **发光效果**：点击的方块和速度条有发光阴影
- **毛玻璃**：部分背景使用半透明效果
- **平滑过渡**：所有交互 0.3 秒过渡

## 📱 响应式支持

游戏完美适配多种设备：

### 桌面设备（> 768px）
- **画布高度**：500px
- **方块高度**：125px
- **统计卡片**：自适应网格布局
- **按钮布局**：横向排列

### 平板设备（≤ 768px）
- **画布高度**：400px
- **方块高度**：100px
- **统计卡片**：单列布局
- **难度选择**：垂直排列
- **按钮布局**：垂直排列，全宽
- **连击提示**：字体缩小到 1.8rem

### 手机设备（≤ 480px）
- **画布高度**：350px
- **方块高度**：87.5px
- **标题字体**：缩小到 1.6rem
- **得分数字**：缩小到 1.5rem
- **连击提示**：字体缩小到 1.3rem
- **弹窗统计**：单列布局

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html` 文件
2. 选择难度（或保持默认普通）
3. 点击"开始游戏"
4. 开始点击黑色方块！

### 无需依赖
- ✅ 纯原生 HTML/CSS/JavaScript
- ✅ 无需安装任何依赖
- ✅ 无需网络连接
- ✅ 支持离线游戏

### 浏览器要求
- ✅ 支持 ES6 语法
- ✅ 支持 CSS Grid & Flexbox
- ✅ 支持 requestAnimationFrame
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器

## 💡 游戏技巧

### 新手技巧
1. **从简单开始**：先选择简单模式熟悉游戏
2. **观察节奏**：注意方块下降的节奏
3. **手指预备**：保持手指在屏幕附近，随时准备点击
4. **眼睛跟随**：眼睛跟随最下方的黑色方块
5. **不要急躁**：保持冷静，速度慢时不要着急

### 进阶技巧
1. **预判位置**：提前看到上方的黑块位置
2. **连击维持**：专注于保持连击不断
3. **速度适应**：适应逐渐加快的速度
4. **手指灵活**：练习手指快速移动
5. **节奏感觉**：找到点击的节奏感

### 高手技巧
1. **直接困难**：直接挑战困难模式获得高分
2. **余光观察**：用余光观察上方即将出现的方块
3. **预判点击**：提前移动到下一个方块位置
4. **高连击**：专注维持 30+ 或 50+ 连击
5. **速度极限**：挑战极限速度下的反应能力
6. **节奏记忆**：记住方块出现的模式（虽然是随机的）
7. **心态稳定**：高连击时保持冷静，不要因为紧张失误

## 🏆 成就挑战

### 分数挑战（普通模式）
- 🥉 **新手**：达到 50 分
- 🥈 **入门**：达到 100 分
- 🥇 **熟练**：达到 200 分
- 💎 **高手**：达到 300 分
- 👑 **大师**：达到 500 分
- 🌟 **传奇**：达到 1000 分

### 连击挑战
- 🔥 **连击新手**：达到 10 连击
- ⚡ **连击高手**：达到 30 连击
- 💥 **连击大师**：达到 50 连击
- 🎯 **连击传奇**：达到 100 连击
- 👁️ **连击之神**：达到 200 连击

### 难度挑战
- 🐢 **简单征服者**：简单模式达到 300 分
- 🎵 **普通征服者**：普通模式达到 300 分
- 🚀 **困难征服者**：困难模式达到 300 分
- 💯 **全难度大师**：三个难度都达到 300 分

## 📄 文件结构

```
Piano-Tiles/
├── index.html          # 游戏主页面（HTML 结构）
├── style.css           # 样式表（UI 设计、动画）
├── script.js           # 游戏逻辑（方块管理、计分系统）
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
// 难度配置
简单: { initialSpeed: 1.2, speedIncrement: 0.02 }
普通: { initialSpeed: 1.5, speedIncrement: 0.03 }
困难: { initialSpeed: 2.0, speedIncrement: 0.05 }

// 方块尺寸
桌面: 125px 高
平板: 100px 高
手机: 87.5px 高

// 画布尺寸
宽度: 400px 最大
高度: 500px（桌面），400px（平板），350px（手机）

// 列数：4 列
// 每列宽度：25%
```

### 连击系统
```javascript
连击等级：
  1-9:   基础分 ×1
  10-19: 基础分 ×2
  20-29: 基础分 ×3
  30-49: 基础分 ×5
  50+:   基础分 ×8

连击提示触发：
  - 每 10 连击
  - 达到加成阶段（20、30、50）
```

### 游戏循环
使用 `requestAnimationFrame` 实现流畅动画：
```javascript
每帧执行：
  1. 更新所有方块的 Y 坐标（+= speed）
  2. 检查是否有黑块滑出屏幕
  3. 移除超出屏幕的方块
  4. 生成新的一行方块（当顶部方块下移后）
```

### 速度增长
```javascript
每次点击黑块：
  speed += speedIncrement
  
速度条显示：
  百分比 = Math.min((speed / 10) * 100, 100)
```

### 本地存储
```javascript
存储键: 'pianoTilesStats'
存储值: {
  easy: { highScore: 0 },
  normal: { highScore: 0 },
  hard: { highScore: 0 }
}
存储时机: 游戏结束且打破记录时
```

### 方块生成
```javascript
生成逻辑：
  1. 随机选择 4 列中的一列放置黑块
  2. 其他 3 列放置白块
  3. 每行生成位置：上一行 Y - 方块高度
  
初始生成：
  生成足够填满画布的行数 + 1 行
```

## 🐛 反馈与支持

### 常见问题

**Q: 为什么点击黑块没反应？**  
A: 可能是点击太晚，方块已经滑出屏幕。或者网络卡顿导致点击延迟。建议提前点击。

**Q: 连击怎么计算的？**  
A: 连续点击黑块不失误即为连击。点击白块或让黑块滑出都会重置连击为 0。

**Q: 为什么速度越来越快？**  
A: 这是游戏机制，每次点击黑块速度都会增加一点。简单模式增长最慢，困难模式增长最快。

**Q: 难度可以在游戏中切换吗？**  
A: 不可以。难度只能在游戏开始前选择。需要切换难度请先重新开始或等游戏结束。

**Q: 最高分记录会丢失吗？**  
A: 最高分保存在浏览器的 localStorage 中，除非清除浏览器数据，否则会一直保留。注意三个难度的最高分是分别记录的。

**Q: 为什么有时候方块会重叠？**  
A: 这是正常现象。每行只有一个黑块，其他是白块。视觉上可能因为边框看起来像重叠。

**Q: 可以用键盘玩吗？**  
A: 当前版本仅支持鼠标点击和触摸操作，不支持键盘。

**Q: 游戏结束后统计的"最高连击"是什么？**  
A: 是本局游戏中达到的最高连击数（maxCombo），不是历史最高连击。

### 已知限制
- 不支持键盘操作
- 没有音效和背景音乐
- 没有在线排行榜
- 不支持多人对战
- 暂停后恢复，速度不会减慢

### 性能优化建议
- 使用现代浏览器获得最佳性能
- 关闭不必要的浏览器标签
- 高速模式下专注于下方方块
- 避免在低性能设备上玩困难模式

### 未来改进方向
- 🔊 添加音效（点击、连击、失误）
- 🎵 添加背景音乐
- 🎹 添加钢琴音（每个方块对应不同音符）
- 🏅 在线排行榜系统
- 📊 详细的游戏统计
- 🎯 成就系统
- ⌨️ 键盘操作支持（1234 数字键）
- 🎨 更多主题和皮肤
- 🎼 经典模式（25 块挑战）
- 🕹️ 街机模式（无尽模式）

---

**准备好挑战你的手速极限了吗？开始弹奏钢琴吧！** 🎹⚡✨
