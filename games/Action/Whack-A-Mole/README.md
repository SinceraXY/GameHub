# 🦫 Whack-A-Mole | 打地鼠

经典的打地鼠游戏！快速反应点击冒出来的地鼠，挑战你的反应速度！

## 📖 游戏简介

Whack-A-Mole（打地鼠）是一款经典的街机反应游戏。游戏中有 9 个洞，地鼠会随机从洞中冒出来，玩家需要在限定时间内尽可能多地点击地鼠。地鼠出现的速度和持续时间会根据难度变化，考验你的反应速度和手眼协调能力。游戏支持三种难度，并按难度分别记录最高分！

### 游戏特色
- **经典玩法**：9 个洞，地鼠随机出现
- **三种难度**：简单、普通、困难，适合不同水平
- **限时挑战**：30 秒或 45 秒倒计时
- **分难度记录**：每个难度独立保存最高分
- **暂停功能**：随时暂停/继续游戏
- **精美动画**：地鼠弹出、击打效果
- **本地存储**：自动保存最高分
- **响应式设计**：适配多种设备

## 🎮 游戏玩法

### 基本操作

- **鼠标点击**：点击冒出来的地鼠
- **触摸点击**：移动设备上触摸地鼠

### 游戏规则

#### 核心规则
1. **游戏目标**：在限定时间内尽可能多地击打地鼠
2. **得分规则**：每击打一只地鼠 **+1 分**
3. **时间限制**：
   - 简单模式：45 秒
   - 普通模式：30 秒
   - 困难模式：30 秒
4. **游戏结束**：时间归零后游戏结束

#### 难度系统

游戏提供 **3 种难度**（游戏前可选择）：

| 难度 | 图标 | 游戏时长 | 出现间隔 | 显示时长 |
|------|------|---------|---------|---------|
| **简单** | 🐢 | 45 秒 | 1.0-2.0 秒 | 1.0-2.0 秒 |
| **普通** | 🦊 | 30 秒 | 0.6-1.2 秒 | 0.6-1.2 秒 |
| **困难** | 🐆 | 30 秒 | 0.4-0.8 秒 | 0.4-0.8 秒 |

**说明**：
- **出现间隔**：地鼠消失后到下一只出现的时间范围（随机）
- **显示时长**：地鼠在洞外停留的时间范围（随机）
- 数值越小，游戏越快，难度越高

#### 地鼠出现机制

**随机洞穴**：
- 9 个洞随机选择一个
- 避免连续两次出现在同一个洞

**随机时间**：
- 出现时间完全随机
- 每次都在难度规定的范围内

**单只出现**：
- 每次只有一只地鼠
- 点击后或时间到后消失
- 立即开始下一轮

### 游戏流程

1. **选择难度**
   - 点击难度按钮选择（默认普通）
   - 游戏进行中无法切换

2. **开始游戏**
   - 点击"▶️ 开始游戏"按钮
   - 倒计时开始
   - 地鼠开始随机出现

3. **击打地鼠**
   - 地鼠从洞中冒出
   - 快速点击地鼠
   - 分数 +1
   - 地鼠消失

4. **观察时间**
   - 注意倒计时
   - 尽可能多击打

5. **游戏结束**
   - 时间归零
   - 显示最终分数
   - 显示性能评价
   - 更新最高分（如果打破记录）

6. **再玩一次**
   - 点击"🔄 再玩一次"
   - 保持相同难度重新开始

## 🖥️ 界面说明

### 游戏头部
位于顶部的标题区域：
- **地鼠图标**：🦫（带跳动动画）
- **游戏标题**："Whack-A-Mole"（渐变文字）
- **副标题**："快速打击冒出来的地鼠！"

### 统计面板
三个统计卡片（灰色渐变背景）：

1. **🎯 当前分数**
   - 显示本局游戏的得分
   - 棕色数字
   - 实时更新

2. **⏰ 剩余时间**
   - 显示倒计时（秒）
   - 棕色数字
   - 每秒递减

3. **🏆 最高分**
   - 显示当前难度的历史最高分
   - 保存在本地
   - 切换难度时更新

### 难度选择区
浅紫色渐变背景区域：

**标签**："难度："

**三个按钮**：
- **🐢 简单**（45 秒，最慢）
- **🦊 普通**（30 秒，中速，默认激活）
- **🐆 困难**（30 秒，最快）

**激活状态**：
- 选中的按钮显示棕色渐变背景
- 游戏进行中无法切换

### 游戏区域
绿色渐变背景的 3×3 网格：

**布局**：
- 3 行 × 3 列 = 9 个洞
- 洞穴均匀分布
- 绿色草地背景

**洞穴**：
- 椭圆形洞口（棕色渐变）
- 高度：150px（桌面），120px（平板），100px（手机）
- 洞口阴影效果

**地鼠**：
- **初始状态**：隐藏在洞下方
- **出现状态**：从洞中弹出
  - 棕色渐变身体
  - 🦫 图标（大号）
  - 弹出动画（0.4 秒）
- **击打状态**：
  - 放大缩小动画
  - 旋转效果
  - 快速缩回洞中（0.4 秒）
- **鼠标样式**：指针

### 控制按钮区
三个大按钮（圆角渐变）：

1. **▶️ 开始游戏**（棕色渐变）
   - 未开始时显示
   - 点击开始游戏
   - 开始后隐藏

2. **⏸️ 暂停 / ▶️ 继续**（灰色渐变）
   - 游戏中显示
   - 点击暂停游戏
   - 暂停时变为"继续"
   - 未开始时隐藏

3. **🔄 重新开始**（蓝色渐变）
   - 游戏中显示
   - 点击重置游戏
   - 返回开始界面
   - 未开始时隐藏

### 游戏结束弹窗
半透明黑色遮罩 + 白色卡片：

**主要内容**：
- **庆祝图标**：🎉（缩放动画）
- **标题**："游戏结束！"
- **最终得分**：
  - 标签："最终得分"
  - 数字：渐变色大号数字
- **性能评价**（根据分数）：
  - 30+ 分："🏆 完美！你的反应速度惊人！"
  - 20-29 分："🌟 非常优秀！手速很快！"
  - 15-19 分："👍 不错！继续努力！"
  - 10-14 分："💪 还可以，多练习会更好！"
  - < 10 分："😊 加油！再试一次！"
- **🔄 再玩一次按钮**（棕色渐变）

## 🎨 视觉效果

### 配色方案
- **主色调**：棕色（#8b4513 → #654321）
- **辅助色**：绿色（#228b22）
- **背景渐变**：棕褐色（#a0522d → #deb887）
- **游戏区域**：绿色渐变（#7cb342 → #558b2f）
- **洞口**：棕色径向渐变
- **地鼠**：棕色渐变身体

### 动画效果

1. **页面淡入**：整个容器淡入 + 上浮（0.6 秒）
2. **图标跳动**：标题图标上下跳动（2 秒循环）
3. **卡片悬停**：统计卡片上浮 5px + 阴影增强
4. **地鼠弹出**：
   - 从洞底快速上升
   - 弹性过渡效果
   - 0.4 秒动画
5. **地鼠击打**：
   - 放大到 1.2 倍 + 旋转 10°
   - 缩小到 0.8 倍
   - 快速缩回洞中
   - 0.4 秒动画
6. **按钮交互**：悬停上浮 2px，点击下沉
7. **弹窗动画**：
   - 背景淡入（0.3 秒）
   - 卡片下滑 + 淡入（0.4 秒）
   - 图标缩放弹跳（0.6 秒）

### 特殊效果
- **渐变背景**：多处使用渐变色
- **洞口阴影**：径向渐变模拟立体感
- **地鼠圆角**：上半部分圆形，下半部分较平
- **弹性动画**：cubic-bezier 贝塞尔曲线
- **渐变文字**：标题使用渐变色裁剪

## 📱 响应式支持

游戏完美适配多种设备：

### 桌面设备（> 768px）
- **游戏网格**：3×3 布局
- **洞穴高度**：150px
- **地鼠图标**：3rem
- **统计卡片**：自适应网格
- **按钮布局**：横向排列

### 平板设备（≤ 768px）
- **游戏网格**：2×2 布局（显示 4 个洞）
- **洞穴高度**：120px
- **地鼠图标**：2.5rem
- **统计卡片**：单列布局
- **难度选择**：垂直排列
- **按钮布局**：垂直排列，全宽

### 手机设备（≤ 480px）
- **游戏网格**：2×2 布局
- **洞穴高度**：100px
- **地鼠图标**：2rem
- **标题字体**：缩小到 1.6rem
- **得分数字**：缩小到 1.5rem
- **弹窗得分**：缩小到 3rem

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html` 文件
2. 选择难度（或保持默认普通）
3. 点击"开始游戏"
4. 快速点击冒出来的地鼠！

### 无需依赖
- ✅ 纯原生 HTML/CSS/JavaScript
- ✅ 无需安装任何依赖
- ✅ 无需网络连接
- ✅ 支持离线游戏

### 浏览器要求
- ✅ 支持 ES6 语法
- ✅ 支持 CSS Grid & Flexbox
- ✅ 支持 CSS animations
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari
- ✅ 移动端浏览器

## 💡 游戏技巧

### 新手技巧
1. **从简单开始**：先选择简单模式熟悉游戏
2. **观察全屏**：眼睛不要只盯一个洞
3. **预备点击**：保持手指在屏幕附近
4. **放松心态**：不要紧张，保持节奏
5. **注意时间**：把握好时间分配

### 进阶技巧
1. **余光观察**：用余光观察所有洞穴
2. **快速定位**：地鼠出现后快速定位
3. **预判移动**：鼠标/手指在网格中间准备
4. **节奏把握**：适应地鼠出现的频率
5. **稳定发挥**：保持稳定的点击成功率

### 高手技巧
1. **极限反应**：训练极限反应速度
2. **模式识别**：虽然随机，但可以训练预判
3. **手眼协调**：提升手眼协调能力
4. **专注训练**：长时间保持高度专注
5. **难度挑战**：直接挑战困难模式
6. **避免误点**：只点击已出现的地鼠
7. **时间管理**：前期稳扎稳打，后期全力冲刺

### 分数策略
1. **简单模式**：45 秒时间长，重点是准确率
2. **普通模式**：平衡速度和准确率
3. **困难模式**：全力以赴，快速点击

## 🏆 挑战目标

### 分数挑战（普通模式）
- 🥉 **新手**：达到 10 分
- 🥈 **入门**：达到 15 分
- 🥇 **熟练**：达到 20 分
- 💎 **高手**：达到 25 分
- 👑 **大师**：达到 30 分
- 🌟 **传奇**：达到 35+ 分

### 困难模式挑战
- 🔥 **勇敢者**：困难模式达到 15 分
- ⚡ **反应大师**：困难模式达到 20 分
- 💫 **速度之王**：困难模式达到 25 分
- 🏅 **不可能完成**：困难模式达到 30+ 分

### 全难度挑战
- 🎯 **全能选手**：三个难度都达到 20 分
- 🎖️ **完美大师**：三个难度都达到 25 分
- 👁️ **究极之神**：三个难度都达到 30 分

## 📄 文件结构

```
Whack-A-Mole/
├── index.html          # 游戏主页面（HTML 结构）
├── style.css           # 样式表（UI 设计、动画）
├── script.js           # 游戏逻辑（地鼠管理、计分系统）
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
// 难度配置
简单: { minTime: 1000ms, maxTime: 2000ms, duration: 45s }
普通: { minTime: 600ms,  maxTime: 1200ms, duration: 30s }
困难: { minTime: 400ms,  maxTime: 800ms,  duration: 30s }

// 游戏设置
洞穴数量: 9 个（3×3 网格）
得分规则: 每只地鼠 +1 分
防作弊: 检测 isTrusted 事件
```

### 地鼠出现逻辑
```javascript
1. 随机选择一个洞（避免连续同一洞）
2. 随机生成显示时间（在难度范围内）
3. 添加 'up' 类，触发弹出动画
4. 定时器到期后移除 'up' 类
5. 地鼠缩回后立即开始下一轮
```

### 击打检测
```javascript
条件检查：
  - 事件必须是真实点击（isTrusted）
  - 游戏必须处于活动状态
  - 游戏未暂停
  - 洞穴必须有 'up' 类（地鼠已出现）

击打成功：
  - 分数 +1
  - 添加 'bonked' 动画类
  - 移除 'up' 类
  - 0.4 秒后移除 'bonked' 类
```

### 暂停机制
```javascript
暂停时：
  - 清除地鼠出现定时器
  - 清除倒计时定时器
  - 保留当前游戏状态

继续时：
  - 重新启动地鼠循环
  - 重新启动倒计时
  - 继续使用保留的状态
```

### 本地存储
```javascript
存储键: 'whackAMoleStats'
存储值: {
  easy: { highScore: 0 },
  normal: { highScore: 0 },
  hard: { highScore: 0 }
}
存储时机: 游戏结束且打破记录时
```

### 随机算法
```javascript
时间随机:
  randomTime(min, max) {
    return Math.round(Math.random() * (max - min) + min)
  }

洞穴随机:
  randomHole() {
    const idx = Math.floor(Math.random() * holes.length)
    // 避免连续同一洞
    if (hole === lastHole) return randomHole()
    return hole
  }
```

## 🐛 反馈与支持

### 常见问题

**Q: 为什么点击地鼠没反应？**  
A: 确保点击的是已经出现的地鼠（有 'up' 状态）。地鼠可能已经缩回去了。

**Q: 可以同时出现多只地鼠吗？**  
A: 不可以。游戏设计为每次只出现一只地鼠，点击后才会出现下一只。

**Q: 为什么有时候地鼠很快就消失？**  
A: 显示时长是随机的，在难度规定的范围内。困难模式最短只有 0.4 秒。

**Q: 可以作弊吗？**  
A: 游戏有防作弊机制，只接受真实的鼠标/触摸事件（isTrusted）。

**Q: 最高分会丢失吗？**  
A: 最高分保存在浏览器的 localStorage 中，除非清除浏览器数据，否则会一直保留。

**Q: 难度可以在游戏中切换吗？**  
A: 不可以。难度只能在游戏开始前选择。需要切换难度请先重新开始。

**Q: 为什么平板/手机只显示 4 个洞？**  
A: 为了适配小屏幕，平板和手机使用 2×2 布局，只显示 4 个洞。

**Q: 暂停后继续，地鼠会立即出现吗？**  
A: 会的。继续游戏后会立即开始新一轮地鼠循环。

**Q: 简单模式和普通模式除了时长还有什么区别？**  
A: 主要区别是地鼠出现和显示的速度。简单模式地鼠出现慢、停留久，给玩家更多反应时间。

### 已知限制
- 移动端 2×2 布局（4 个洞）
- 每次只能出现一只地鼠
- 无法撤销误点
- 无音效和背景音乐
- 无在线排行榜
- 暂停时地鼠不保留位置

### 性能优化建议
- 使用现代浏览器获得最佳性能
- 关闭不必要的浏览器标签
- 在较大屏幕上游戏体验更好（9 个洞）
- 触摸屏略慢于鼠标

### 未来改进方向
- 🔊 添加音效（地鼠出现、击打、游戏结束）
- 🎵 添加背景音乐
- 🏅 在线排行榜系统
- 📊 详细的游戏统计
- 🎯 成就系统
- 🎨 多种主题皮肤（不同动物）
- 🌟 特殊地鼠（金色地鼠加倍分数）
- 💥 连击系统（连续击打加分）
- ⚙️ 自定义设置（洞的数量、时间）
- 🎮 触摸屏优化（更大的点击区域）
- 📈 进步曲线图
- 🏆 每日挑战模式

---

**准备好挑战你的反应极限了吗？开始打地鼠吧！** 🦫🔨✨
