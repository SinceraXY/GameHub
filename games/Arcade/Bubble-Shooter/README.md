# 🎯 泡泡龙 | Bubble Shooter

经典泡泡龙射击游戏！瞄准、发射、消除相同颜色的泡泡，挑战高分！

## 📖 游戏简介

泡泡龙（Bubble Shooter）是一款经典的消除类益智游戏。玩家通过发射泡泡，将3个或以上相同颜色的泡泡消除，清空所有泡泡即可进入下一关。游戏支持墙壁反弹、连击加成、孤立泡泡掉落等丰富机制，提供无限关卡挑战。随着关卡提升，泡泡数量增加、颜色种类增多，难度逐渐提升！

### 游戏特色
- **经典玩法**：射击消除，简单易上手
- **墙壁反弹**：利用反弹瞄准难以到达的位置
- **连击系统**：连续消除获得分数加成
- **孤立掉落**：消除后孤立的泡泡会掉落获得额外分数
- **无限关卡**：难度逐渐提升，挑战无止境
- **智能生成**：确保每关都可以完成
- **音效系统**：Web Audio API 生成音效
- **本地存储**：保存最高分记录

## 🎮 游戏玩法

### 基本操作

- **鼠标移动**：瞄准方向
- **鼠标点击**：发射泡泡

### 游戏规则

#### 核心规则
1. **消除条件**：3个或以上相同颜色的泡泡连接在一起即可消除
2. **发射机制**：点击发射当前泡泡，发射后切换到下一个泡泡
3. **墙壁反弹**：泡泡碰到左右墙壁会反弹
4. **孤立掉落**：消除后与顶部断开连接的泡泡会掉落
5. **通关条件**：清空所有泡泡进入下一关
6. **失败条件**：泡泡接触到底部发射器

#### 计分系统

**基础分数**：
- 消除泡泡：每个 **10 分**
- 掉落泡泡：每个 **20 分 × 当前连击**

**连击加成**：
- 连续消除泡泡时触发连击
- 连击分数 = **连击数 × 50**
- 未消除时连击重置

**通关奖励**：
- 清空所有泡泡：**1000 × 关卡数**

**总分计算**：
```
单次消除总分 = (泡泡数量 × 10) + (连击数 × 50)
掉落总分 = (掉落数量 × 20 × 连击数)
```

#### 难度递增

**泡泡行数**：
- 初始：5 行
- 每 3 关增加 1 行

**颜色数量**：
- 初始：4-5 种颜色
- 每 4 关增加颜色种类
- 最多：7 种颜色

**布局挑战**：
- 5 关后：随机留空部分位置
- 每 5 关留空概率增加

### 游戏流程

1. **开始游戏**：点击"开始游戏"进入第1关
2. **发射泡泡**：移动鼠标瞄准，点击发射
3. **消除泡泡**：3个以上相同颜色消除
4. **观察连击**：连续消除提升连击倍数
5. **清空泡泡**：完成当前关卡
6. **关卡提升**：进入下一关，难度提升
7. **游戏结束**：泡泡触底或点击"返回主菜单"

## 🖥️ 界面说明

### 游戏头部
- **游戏标题**：🎯 泡泡龙（渐变文字动画）
- **副标题**：Bubble Shooter - 瞄准、发射、消除！

### 信息栏
四个统计卡片（紫色渐变背景）：

1. **🎯 分数**：当前总分
2. **🎮 关卡**：当前关卡数
3. **🎨 剩余**：剩余泡泡数量
4. **🏆 最高**：历史最高分（本地存储）

### 游戏画布
- **尺寸**：580 × 650 像素
- **背景**：浅蓝到白色渐变
- **鼠标样式**：十字准星
- **瞄准线**：黄色虚线，显示反弹轨迹（最多2次反弹）

**泡泡元素**：
- **半径**：20 像素
- **颜色**：7种（红、蓝、绿、金黄、紫、橙、青）
- **效果**：白色边框 + 高光
- **动画**：消除时爆裂粒子效果

**发射器**：
- **位置**：画布底部中央
- **当前泡泡**：大号显示
- **下一个泡泡**：左下角小号预览

### 控制按钮
三个按钮（紫色渐变）：

1. **⏸️ 暂停**：暂停/继续游戏
2. **🔄 重新开始**：重置当前游戏
3. **🔊 音效**：开关音效

### 游戏说明区
灰色渐变卡片，显示5条规则：
- 🖱️ 移动鼠标瞄准，点击发射泡泡
- 🎯 3个或以上相同颜色的泡泡会消除
- 💎 消除后孤立的泡泡会掉落获得额外分数
- ⚡ 连击消除获得加成分数
- 🏆 清空所有泡泡进入下一关

### 开始界面
半透明黑色遮罩 + 白色卡片：
- **图标**：🎯（跳动动画）
- **标题**："泡泡龙"
- **副标题**："Bubble Shooter"
- **开始按钮**："▶️ 开始游戏"
- **游戏技巧**：
  - 利用墙壁反弹瞄准难以到达的位置
  - 优先消除顶部的泡泡
  - 计划连击以获得更高分数

### 暂停界面
- **图标**：⏸️
- **标题**："游戏暂停"
- **按钮**：
  - ▶️ 继续游戏
  - 🏠 返回主菜单

### 游戏结束模态框
显示游戏统计：

**常规结束**：
- 图标：😢
- 标题："游戏结束"

**新纪录**：
- 图标：🏆
- 标题："新纪录！"
- 新纪录卡片（粉色渐变）

**统计数据**（2×2网格）：
- 最终分数
- 到达关卡
- 消除泡泡（总数）
- 最大连击

**按钮**：
- 🔄 再玩一次
- 🏠 返回主菜单

### 关卡通知
关卡切换时屏幕中央弹出：
- 显示关卡数："Level X"
- 难度提示：
  - 🔥 更多泡泡！（每3关）
  - 🎨 更多颜色！（每4关）
  - 💎 稀疏布局！（每5关）
- 2秒后自动消失

### 特效系统

**粒子效果**：
- 消除时：8个彩色粒子爆裂
- 掉落时：6个彩色粒子
- 粒子带重力和透明度渐变

**浮动文字**：
- 消除得分：金色"+X"
- 掉落得分：青色"+X"
- 连击提示：橙色"Xx COMBO!"
- 向上飘动并淡出

**连击显示**：
- 位置：画布顶部中央
- 样式：黑色半透明背景 + 金色文字
- 内容："Xx COMBO"

## 🎨 视觉效果

### 配色方案
- **主色调**：紫色渐变（#667eea → #764ba2）
- **背景**：紫色渐变（整个页面）
- **画布背景**：浅蓝到白色渐变（#e0f7fa → #ffffff）
- **泡泡颜色**：7种鲜艳颜色（高对比度）
- **瞄准线**：黄色（#FFFF00）+ 黑色外描边

### 动画效果
1. **渐变移动**：标题背景渐变循环移动（3秒）
2. **信息卡片**：依次淡入上浮（0.1-0.4秒延迟）
3. **画布脉冲**：阴影颜色变化（2秒循环）
4. **图标跳动**：上下跳动（2秒循环）
5. **粒子爆裂**：消除时向四周扩散
6. **浮动文字**：向上飘动并淡出
7. **按钮悬停**：上浮 2-3px + 阴影增强
8. **新纪录图标**：旋转动画（2秒循环）
9. **关卡通知**：缩放淡入淡出

## 📱 响应式支持

### 桌面设备（> 768px）
- 信息栏：4列网格
- 控制按钮：3列网格
- 完整画布尺寸

### 平板设备（≤ 768px）
- 信息栏：2×2网格
- 控制按钮：单列布局
- 统计数据：单列布局
- 内边距调整

### 手机设备（≤ 480px）
- 标题字体：缩小到 1.8rem
- 信息数值：缩小到 1.2rem
- 按钮：更紧凑尺寸

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html`
2. 点击"开始游戏"
3. 移动鼠标瞄准，点击发射泡泡！

### 无需依赖
- ✅ 纯原生 HTML/CSS/JavaScript
- ✅ Canvas 2D 渲染
- ✅ Web Audio API 音效
- ✅ 无需外部库
- ✅ 支持离线游戏

### 浏览器要求
- ✅ 支持 Canvas API
- ✅ 支持 ES6 语法
- ✅ 支持 Web Audio API
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari

## 💡 游戏技巧

### 新手技巧
1. **利用反弹**：瞄准线显示反弹轨迹，利用墙壁到达难以直达的位置
2. **观察预览**：注意左下角下一个泡泡的颜色
3. **从上往下**：优先消除顶部泡泡，避免泡泡堆积
4. **制造连击**：计划连续消除以获得高分
5. **避免孤立**：注意不要制造无法消除的孤立泡泡

### 进阶技巧
1. **策略消除**：先消除支撑泡泡，让更多泡泡掉落
2. **连击规划**：提前规划多次消除路径
3. **颜色管理**：记住场上的颜色分布
4. **反弹精准**：练习精确的反弹瞄准
5. **速度与精度**：平衡射击速度和准确性

### 高手技巧
1. **双重反弹**：利用两次墙壁反弹到达复杂位置
2. **掉落计算**：预判消除后的掉落泡泡数量
3. **连击最大化**：一局保持高连击数
4. **颜色优先级**：优先消除数量少的颜色
5. **完美通关**：尽可能少的发射次数通关

## 🏆 挑战目标

### 分数挑战
- 🥉 **新手**：达到 5,000 分
- 🥈 **入门**：达到 10,000 分
- 🥇 **熟练**：达到 25,000 分
- 💎 **高手**：达到 50,000 分
- 👑 **大师**：达到 100,000 分
- 🌟 **传奇**：达到 200,000+ 分

### 关卡挑战
- 🎯 **起步者**：到达第 5 关
- 🔥 **坚持者**：到达第 10 关
- ⚡ **挑战者**：到达第 20 关
- 💪 **征服者**：到达第 30 关
- 🏅 **不可阻挡**：到达第 50 关

### 技巧挑战
- 🎨 **连击达人**：单次连击达到 10+
- 💥 **爆破专家**：单次消除 15+ 个泡泡
- 🎯 **精准射手**：利用双重反弹消除
- 💎 **掉落大师**：单次掉落 20+ 个泡泡

## 📄 文件结构

```
Bubble-Shooter/
├── index.html          # 游戏主页面
├── style.css           # 样式表
├── script.js           # 游戏逻辑
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
canvasWidth: 580px
canvasHeight: 650px
bubbleRadius: 20px
bubbleSpeed: 8 像素/帧
bubbleColors: 7种
initialRows: 5行
bubblesPerRow: 14个
```

### 智能颜色生成
```javascript
剩余 ≤ 10个：100% 使用现有颜色
剩余 ≤ 20个：90% 使用现有颜色
剩余 > 20个：70% 使用现有颜色
```

### 碰撞检测
- 使用距离公式检测泡泡碰撞
- 碰撞距离：2 × bubbleRadius
- 使用六边形网格邻居算法

### 消除算法
- BFS（广度优先搜索）查找相同颜色连接泡泡
- 3个或以上触发消除
- 消除后检查孤立泡泡（从顶部BFS）

### 音效系统
使用 Web Audio API 生成：
- shoot：200Hz 正弦波
- pop：400Hz 方波
- bounce：150Hz 正弦波
- drop：300→100Hz 锯齿波
- levelUp：523Hz 方波
- gameOver：200→50Hz 锯齿波

## 🐛 反馈与支持

### 常见问题

**Q: 瞄准线是什么意思？**  
A: 黄色虚线显示泡泡的飞行轨迹，包括墙壁反弹效果（最多2次反弹）。

**Q: 为什么有时候泡泡不消除？**  
A: 需要3个或以上相同颜色的泡泡连接在一起才能消除。

**Q: 孤立泡泡是什么？**  
A: 消除后与顶部断开连接的泡泡会自动掉落，每个获得额外分数。

**Q: 连击怎么触发？**  
A: 连续发射并成功消除泡泡（不发射无效泡泡），每次消除连击数+1。

**Q: 关卡难度如何提升？**  
A: 每3关增加1行泡泡，每4关增加颜色种类，5关后随机留空位置。

**Q: 最高分会保存吗？**  
A: 会的，最高分保存在浏览器 localStorage 中。

**Q: 可以关闭音效吗？**  
A: 可以，点击"🔊 音效"按钮切换为静音模式。

**Q: 为什么发射的泡泡颜色看起来总是"合适的"？**  
A: 游戏使用智能颜色生成算法，确保每关都可以完成。剩余泡泡越少，越倾向于生成现有颜色。

### 已知限制
- 无触摸屏优化（移动端体验一般）
- 无撤销功能
- 无保存游戏进度
- 音效无法自定义
- 无在线排行榜

### 性能优化建议
- 使用现代浏览器
- 关闭不必要的浏览器标签
- 确保硬件加速已启用

### 未来改进方向
- 📱 触摸屏优化
- 🎨 更多泡泡皮肤
- 🏅 成就系统
- 📊 详细统计图表
- 💾 进度保存
- 🌐 在线排行榜
- 🎵 背景音乐
- ⚙️ 难度自定义
- 🎁 道具系统（炸弹、彩虹泡泡等）

---

**准备好挑战泡泡龙了吗？开始消除吧！** 🎯💥✨
