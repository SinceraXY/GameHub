# 👾 Space Invaders | 太空入侵者

经典街机射击游戏！保卫地球，击退外星入侵者，挑战最高分！

## 📖 游戏简介

Space Invaders（太空入侵者）是1978年诞生的经典街机游戏，开创了射击游戏的先河。玩家控制一艘飞船在屏幕底部左右移动，射击不断下降的外星入侵者。游戏节奏紧张刺激，外星人会逐渐加速并发射反击子弹。本游戏完美还原经典玩法，支持关卡递进、难度提升，带来原汁原味的街机体验！

### 游戏特色
- **经典玩法**：还原1978年街机原作
- **关卡递进**：每关外星人速度提升
- **双向射击**：玩家和外星人都可以开火
- **多种外星人**：4种类型，不同分数
- **生命系统**：3条生命挑战极限
- **音效反馈**：Web Audio API 音效
- **本地存储**：保存最高分记录
- **响应式设计**：完美适配各种设备

## 🎮 游戏玩法

### 基本操作

**键盘控制**：
- **← → 方向键**：左右移动飞船
- **空格键**：发射子弹
- **P键**：暂停/继续游戏

**其他控制**：
- **暂停按钮**：点击⏸️暂停游戏
- **重新开始**：点击🔄重新开始（需确认）
- **音效开关**：点击🔊切换音效

### 游戏规则

#### 核心目标
- **消灭外星人**：击败所有外星入侵者
- **保卫地球**：不让外星人到达底部
- **躲避攻击**：避开外星人的反击子弹
- **通关升级**：消灭所有外星人进入下一关

#### 失败条件
游戏在以下情况结束：
- **生命耗尽**：被外星人子弹击中3次
- **外星人入侵**：外星人到达屏幕底部（玩家位置）

#### 计分系统

外星人根据行数有不同分值：

| 行数 | 颜色 | 外星人 | 分数 |
|------|------|--------|------|
| 第1行 | 紫色 | 👾 | 40 分 |
| 第2行 | 橙色 | 👾 | 30 分 |
| 第3行 | 黄色 | 👾 | 20 分 |
| 第4行 | 绿色 | 👾 | 10 分 |

**计分公式**：`分数 = (行号 + 1) × 10`
- 第0行（紫色）：(0+1)×10 = 40分
- 第1行（橙色）：(1+1)×10 = 30分
- 第2行（黄色）：(2+1)×10 = 20分
- 第3行（绿色）：(3+1)×10 = 10分

#### 生命系统
- **初始生命**：3条（❤️❤️❤️）
- **失去生命**：被外星人子弹击中
- **生命耗尽**：游戏结束
- **生命显示**：顶部信息栏实时显示心形图标

#### 外星人编队
- **阵型**：4行 × 8列 = 32个外星人
- **初始位置**：屏幕上方
- **移动模式**：
  - 横向移动（左右往返）
  - 碰到边界时下降一段距离
  - 改变方向继续移动

#### 外星人行为
- **移动速度**：每关递增
  - 基础速度：1 像素/帧
  - 每关增加：0.3 像素/帧
  - 计算公式：`速度 = 1 + (关卡-1) × 0.3`
- **下降距离**：碰边界后下降20像素
- **射击频率**：每60帧左右随机射击
  - 间隔：60 - 关卡×5 帧
  - 随机选择一个外星人发射子弹

#### 射击系统

**玩家子弹**：
- 颜色：绿色（#00ff88）
- 尺寸：4×15 像素
- 速度：7 像素/帧（向上）
- 发光效果：绿色光晕

**外星人子弹**：
- 颜色：红色（#ff3366）
- 尺寸：4×15 像素
- 速度：4 像素/帧（向下）
- 发光效果：红色光晕

#### 碰撞检测
- **玩家子弹 vs 外星人**：
  - 子弹消失
  - 外星人消失
  - 分数增加
  - 播放爆炸音效
  
- **外星人子弹 vs 玩家**：
  - 子弹消失
  - 生命-1
  - 播放受击音效
  - 生命≤0时游戏结束

#### 关卡递进
- **通关条件**：消灭所有外星人
- **关卡过渡**：
  - 显示"LEVEL X"和"Get Ready!"
  - 2秒延迟后开始新关卡
  - 外星人重新生成
  - 速度提升
- **难度提升**：
  - 外星人移动速度增加
  - 射击频率提高

### 游戏流程

1. **开始游戏**：
   - 点击"START GAME"按钮
   - 飞船出现在底部中央

2. **移动射击**：
   - 使用←→键移动飞船
   - 按空格发射子弹
   - 击中外星人得分

3. **躲避攻击**：
   - 观察外星人子弹轨迹
   - 左右移动躲避
   - 保护生命值

4. **消灭入侵者**：
   - 击败所有32个外星人
   - 获得通关奖励
   - 进入下一关

5. **关卡提升**：
   - 外星人速度加快
   - 射击频率提高
   - 难度递增

6. **游戏结束**：
   - 生命耗尽或外星人到底
   - 显示最终得分和关卡
   - 查看是否破纪录

## 🖥️ 界面说明

### 游戏头部
- **游戏标题**：👾 Space Invaders（渐变色）
- **副标题**：太空入侵者 - 保卫地球！

### 信息栏
4个统计卡片（渐变背景）：

1. **🎯 SCORE**（青紫渐变）：
   - 当前总分
   - 实时更新
   - 青色发光

2. **❤️ LIVES**（青紫渐变）：
   - 剩余生命数字
   - 心形图标（❤️）显示
   - 生命减少时实时更新

3. **📊 LEVEL**（青紫渐变）：
   - 当前关卡数
   - 从1开始

4. **🏆 HIGH**（金色渐变）：
   - 历史最高分
   - 金色发光
   - 保存在本地

### 游戏画布
**尺寸**：720×600 像素（响应式）

**背景**：
- 黑色宇宙背景
- 50个白色星星点缀
- 星星位置固定（性能优化）

**游戏元素**：
- **玩家飞船**：
  - 三角形设计
  - 青色（#00d4ff）
  - 发光效果（shadowBlur: 15）
  - 白色中央装饰圆点
  - 尺寸：40×40 像素
  
- **外星人**：
  - 方块造型 + 黑色眼睛
  - 4种颜色（紫、橙、黄、绿）
  - 发光效果
  - 尺寸：35×35 像素
  - 间隔：15 像素

- **玩家子弹**：
  - 绿色竖条（#00ff88）
  - 发光效果
  - 4×15 像素

- **外星人子弹**：
  - 红色竖条（#ff3366）
  - 发光效果
  - 4×15 像素

**关卡过渡**：
- 半透明黑色遮罩
- "LEVEL X"大号文字（青色发光）
- "Get Ready!"提示
- 2秒后消失

### 开始界面
全屏覆盖层（黑色半透明）：

**主要内容**：
- **游戏Logo**：
  - 👾图标（6rem，浮动动画）
  - "SPACE INVADERS"标题（3rem渐变）
  
- **操作指南**（3个卡片）：
  - **← →**：移动飞船
  - **SPACE**：发射子弹
  - **P**：暂停游戏

- **开始按钮**：
  - "🚀 START GAME"
  - 青紫渐变背景
  - 发光悬停效果

### 暂停界面
全屏覆盖层：

**主要内容**：
- **图标**：⏸️（脉冲动画）
- **标题**："GAME PAUSED"（青色发光）
- **副标题**："游戏已暂停"
- **控制按钮**：
  - ▶️ 继续游戏（青紫渐变）
  - 🏠 返回主菜单（青紫渐变）
- **快捷提示**："按 P 键快速继续"

### 控制按钮区
3个按钮（网格布局）：

1. **⏸️ 暂停**：暂停/继续游戏
2. **🔄 重新开始**：重置游戏（需确认）
3. **🔊 音效**：开关音效（点击变为🔇）

### 游戏说明区
**标题**："📖 GAME RULES"

**4个规则卡片**（2×2网格）：
1. **🎮 操作控制**：使用←→方向键控制飞船左右移动
2. **🔫 射击攻击**：按空格键发射子弹消灭外星入侵者
3. **🎯 游戏目标**：消灭所有外星人进入下一关，获得更高分数
4. **⚠️ 注意事项**：不要让外星人到达底部，避开外星人的攻击

**得分规则表**（2×2网格）：
- 👾 紫色外星人 = 40 分
- 👾 橙色外星人 = 30 分
- 👾 黄色外星人 = 20 分
- 👾 绿色外星人 = 10 分

### 游戏结束模态框
全屏半透明黑色遮罩：

**主卡片内容**：
- **图标**：👾（弹跳动画）
- **标题**："GAME OVER"（青色发光）
- **副标题**："游戏结束"

**统计数据**（2列或3列）：
1. 🎯 FINAL SCORE：最终得分
2. 📊 REACHED LEVEL：到达关卡
3. 🏆 NEW HIGH SCORE：新最高分（仅新纪录时显示，金色发光）

**按钮**：
- 🔄 PLAY AGAIN（青紫渐变）
- 🏠 MAIN MENU（灰色渐变）

## 🎨 视觉效果

### 配色方案
- **主色调**：青色（#00d4ff）
- **次色调**：紫色（#ff00ff）
- **成功色**：绿色（#00ff88）
- **错误色**：红色（#ff3366）
- **警告色**：橙色（#ffaa00）
- **金色**：金黄（#ffd700）
- **背景**：深蓝渐变（#0a0e27 → #1a1f3a）
- **画布背景**：纯黑（#000000）

### 动画效果

1. **页面淡入**：整个容器淡入上浮（0.5秒）
2. **星空背景**：缓慢移动（120秒循环）
3. **外星人浮动**：Logo图标上下浮动（3秒循环）
4. **暂停脉冲**：暂停图标缩放+透明度（2秒循环）
5. **结束弹跳**：模态框弹入动画（0.6秒）
6. **按钮悬停**：上浮+发光效果
7. **卡片悬停**：上浮3px+边框变色
8. **新纪录发光**：金色光晕脉冲（2秒循环）

### 特殊效果
- **发光文字**：标题和分数使用text-shadow
- **渐变背景**：多处使用渐变色
- **毛玻璃**：遮罩层使用backdrop-filter模糊
- **阴影层次**：多级box-shadow
- **Canvas发光**：shadowBlur实现光晕
- **平滑过渡**：cubic-bezier缓动函数

## 📱 响应式支持

### 桌面设备（> 600px）
- 游戏容器：800px最大宽度
- 画布：720×600px
- 信息栏：4列网格
- 说明卡片：2×2网格
- 完整按钮文字

### 移动设备（≤ 600px）
- 容器内边距：20px
- 标题字体：2rem
- 信息卡片：缩小间距
- 信息数值：1.2rem
- 按钮文字：隐藏（仅显示图标）
- 图标放大：1.5rem
- 说明卡片：单列布局
- 得分表：单列布局

### 小手机（≤ 400px）
- 信息数值：1rem
- 游戏结束图标：4rem
- 统计数值：1.5rem

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html`
2. 点击"START GAME"
3. 使用方向键和空格开始游戏！

### 无需依赖
- ✅ 纯原生 HTML/CSS/JavaScript
- ✅ Canvas 2D 渲染
- ✅ Web Audio API 音效
- ✅ 无需外部库
- ✅ 支持离线游戏

### 浏览器要求
- ✅ 支持 Canvas API
- ✅ 支持 ES6 语法
- ✅ 支持 Web Audio API
- ✅ 支持 localStorage
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari

## 💡 游戏技巧

### 新手技巧
1. **瞄准上层**：优先击杀上层外星人（分数高）
2. **保持移动**：不要停在原地
3. **观察子弹**：注意外星人子弹轨迹
4. **左右走位**：利用左右移动躲避
5. **节省子弹**：不要盲目射击

### 进阶技巧
1. **快速清理**：从两侧向中间清理
2. **预判射击**：提前预判外星人位置
3. **节奏控制**：保持稳定的射击节奏
4. **边缘利用**：利用边缘限制外星人移动
5. **专注观察**：同时观察外星人和子弹

### 高手技巧
1. **精准射击**：每发子弹都要命中
2. **完美走位**：在子弹间隙中穿梭
3. **速度适应**：快速适应每关速度
4. **优先级判断**：优先击杀威胁最大的外星人
5. **极限操作**：在最危险时刻精准躲避

### 高分策略
1. **紫色优先**：优先击杀40分的紫色外星人
2. **不失生命**：尽可能不损失生命
3. **快速通关**：越快通关分数越高
4. **连续命中**：保持高命中率
5. **关卡挑战**：挑战更高关卡

## 🏆 挑战目标

### 分数挑战
- 🥉 **新手**：达到 500 分
- 🥈 **入门**：达到 1,000 分
- 🥇 **熟练**：达到 2,000 分
- 💎 **高手**：达到 5,000 分
- 👑 **大师**：达到 10,000 分
- 🌟 **传奇**：达到 20,000+ 分

### 关卡挑战
- 🎮 **起步者**：到达第 3 关
- 🔥 **坚持者**：到达第 5 关
- ⚡ **挑战者**：到达第 10 关
- 💪 **征服者**：到达第 15 关
- 🏅 **不屈者**：到达第 20 关

### 完美挑战
- 💯 **完美射击**：单关100%命中率
- ❤️ **满血通关**：不失一命通过5关
- 🎯 **狙击手**：连续命中50发

### 极限挑战
- 🔥 **速通王者**：30秒内通过第1关
- 💎 **分数大师**：单关得分1000+
- 🌟 **全能战士**：到达第10关且不失一命

## 📄 文件结构

```
Space-Invaders/
├── index.html          # 游戏主页面
├── style.css           # 样式表（UI设计、动画）
├── script.js           # 游戏逻辑（物理、碰撞）
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
画布尺寸: 720×600 像素

玩家飞船:
  尺寸: 40×40px
  速度: 5 像素/帧
  颜色: #00d4ff
  位置: 底部中央

外星人阵型:
  行数: 4 行
  列数: 8 列
  总数: 32 个
  尺寸: 35×35px
  间隔: 15px
  初始速度: 1 像素/帧
  每关增速: 0.3 像素/帧
  下降距离: 20px

玩家子弹:
  尺寸: 4×15px
  速度: 7 像素/帧（向上）
  颜色: #00ff88

外星人子弹:
  尺寸: 4×15px
  速度: 4 像素/帧（向下）
  颜色: #ff3366
  射击间隔: 60 - 关卡×5 帧
```

### 游戏循环
```javascript
每帧更新（requestAnimationFrame）:
1. 更新玩家位置（键盘输入）
2. 更新外星人位置（横向+下降）
3. 更新玩家子弹（向上移动）
4. 更新外星人子弹（向下移动）
5. 外星人随机射击
6. 碰撞检测（子弹vs外星人，子弹vs玩家）
7. 检查关卡完成（外星人数=0）
8. 绘制所有元素
```

### 碰撞检测算法
```javascript
矩形碰撞:
  obj1.x < obj2.x + obj2.width &&
  obj1.x + obj1.width > obj2.x &&
  obj1.y < obj2.y + obj2.height &&
  obj1.y + obj1.height > obj2.y
```

### 外星人移动逻辑
```javascript
1. 检查边界碰撞（左右边界-10px）
2. 如果碰到边界：
   - 改变方向（direction *= -1）
   - 所有外星人下降20px
3. 按当前方向移动：
   - x += direction × speed
4. 检查是否到达玩家位置：
   - if (alien.y + height >= player.y) 游戏结束
```

### 音效系统
使用 Web Audio API 生成4种音效：
- **shoot**：800Hz正弦波（0.1秒）
- **explosion**：200Hz锯齿波下降（0.2秒）
- **hit**：100Hz方波（0.3秒）
- **levelUp**：523→659→784Hz上升音阶（0.4秒）

### 本地存储
```javascript
存储键: 'spaceInvadersHighScore'
存储值: 整数（最高分）
保存时机: 游戏结束且打破纪录
加载时机: 页面加载时
```

### 性能优化
- 星星预生成（避免每帧random）
- 显示更新标记（displayDirty，减少DOM操作）
- 生命值变化检测（仅变化时更新hearts）
- AudioContext复用（避免内存泄漏）
- requestAnimationFrame（平滑动画）

## 🐛 反馈与支持

### 常见问题

**Q: 如何射击？**  
A: 按空格键发射子弹。子弹会自动向上飞行击中外星人。

**Q: 外星人会射击吗？**  
A: 会的！外星人会随机发射红色子弹，需要左右移动躲避。

**Q: 如何通关？**  
A: 消灭所有32个外星人即可进入下一关。

**Q: 关卡难度如何提升？**  
A: 每关外星人移动速度增加0.3，射击频率也会提高。

**Q: 生命耗尽会怎样？**  
A: 游戏结束，显示最终得分和到达关卡。

**Q: 外星人到达底部会怎样？**  
A: 游戏立即结束，无论还剩多少生命。

**Q: 最高分会保存吗？**  
A: 会的，保存在浏览器localStorage中，除非清除浏览器数据。

**Q: 不同颜色的外星人有什么区别？**  
A: 分数不同。紫色40分，橙色30分，黄色20分，绿色10分。

**Q: 可以暂停游戏吗？**  
A: 可以，按P键或点击暂停按钮。

**Q: 子弹数量有限制吗？**  
A: 玩家可以无限发射子弹，但建议精准射击以提高命中率。

### 已知限制
- 无护盾系统
- 无道具掉落
- 无UFO飞碟
- 无多人模式
- 无自定义难度
- 无在线排行榜

### 性能优化建议
- 使用现代浏览器
- 关闭不必要的浏览器标签
- 确保硬件加速已启用
- 避免在低性能设备上长时间游戏

### 未来改进方向
- 🎨 多种飞船和外星人皮肤
- 🎯 护盾系统
- 🛸 UFO飞碟（额外分数）
- 🏅 成就系统
- 📊 详细统计图表
- 🌐 在线排行榜
- 💾 进度保存
- 🎵 背景音乐
- 🎮 双人对战模式
- 🌍 多种场景主题
- 🔊 更多音效
- 🎁 道具系统（加速、护盾、双倍分数）
- 📱 触摸屏优化（虚拟按键）
- 🏆 每日挑战

---

**准备好保卫地球了吗？开始战斗吧！** 👾🚀✨
