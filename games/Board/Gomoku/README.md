# ⚫ Gomoku - 五子棋 | Five in a Row

经典策略棋类游戏！双人对弈，连成五子获胜，挑战你的策略思维！

## 📖 游戏简介

Gomoku（五子棋），又称连珠、五目棋，是一款源于中国的传统策略棋类游戏。两位玩家在 15×15 的棋盘上轮流落子，黑方先行，率先在横向、纵向或斜向连成五个同色棋子的一方获胜。游戏规则简单却极具策略性，需要玩家同时考虑进攻和防守，是锻炼逻辑思维和预判能力的绝佳游戏。本游戏支持完整的统计系统、获胜高亮、本地保存等功能，带来流畅的对弈体验！

### 游戏特色
- **经典棋盘**：15×15 标准五子棋棋盘
- **双人对战**：本地双人轮流对弈
- **精美界面**：仿真木质棋盘 + 立体棋子
- **四向检测**：横、纵、两对角线全方位检测
- **获胜高亮**：获胜棋子自动高亮闪烁
- **统计系统**：记录黑方、白方胜局和平局
- **本地保存**：统计数据保存在本地
- **响应式设计**：适配各种设备尺寸

## 🎮 游戏玩法

### 基本操作

**落子方式**：
- **鼠标点击**：点击任意空白交叉点放置棋子
- **轮流下棋**：黑方和白方轮流落子
- **悔棋**：不支持悔棋，请谨慎落子

**按钮控制**：
- **New Game**：开始新游戏（清空棋盘）
- **Reset Stats**：重置所有统计数据（需确认）
- **Play Again**：游戏结束后再玩一局

### 游戏规则

#### 核心目标
- **连成五子**：率先在任意方向连成5个同色棋子
- **获胜条件**：横向、纵向、斜向任一方向连成5个
- **平局条件**：棋盘下满无人获胜

#### 棋盘规格
- **尺寸**：15×15 交叉点（225个落子点）
- **棋盘颜色**：木质纹理（#E7C27D 渐变）
- **棋盘边框**：深棕色边框（#8B5A2B）
- **网格线**：黑色线条，15×15完整网格

#### 棋子规格
- **黑棋**：径向渐变（#4A4A4A → #000000）
- **白棋**：径向渐变（#FFFFFF → #D0D0D0）
- **棋子大小**：格子尺寸的 75%
- **立体效果**：内阴影 + 外阴影

#### 落子规则

**先手优势**：
- **黑方先行**：黑棋先下第一子
- **白方应对**：白棋跟随
- **交替进行**：双方轮流落子

**落子限制**：
- **唯一性**：每个交叉点只能下一子
- **不可悔棋**：落子后无法撤销
- **占位禁止**：已有棋子的位置无法再次落子

#### 获胜判定

**四个方向检测**：
1. **横向（→）**：水平方向连成5子
2. **纵向（↓）**：垂直方向连成5子
3. **斜向1（↘）**：左上到右下对角线
4. **斜向2（↗）**：左下到右上对角线

**检测算法**：
- 从落子点向两个方向延伸
- 前向检测最多4格
- 后向检测最多4格
- 总长度≥5即获胜

**获胜效果**：
- 获胜的5个（或更多）棋子高亮
- 金色发光效果（box-shadow）
- 脉冲动画（缩放 + 亮度变化）
- 延迟 800ms 后显示结果

#### 平局判定
- **条件**：225个交叉点全部落满
- **检测**：每次落子后检查棋盘是否已满
- **结果**：显示平局界面，统计平局次数

### 游戏流程

1. **准备阶段**：
   - 黑方准备先手
   - 观察棋盘，制定策略

2. **黑方落子**：
   - 黑方点击任意空位
   - 黑色棋子出现（放大动画）
   - 自动切换到白方

3. **白方落子**：
   - 白方点击任意空位
   - 白色棋子出现
   - 自动切换到黑方

4. **持续对弈**：
   - 双方轮流落子
   - 同时考虑进攻和防守
   - 寻找获胜机会

5. **获胜判定**：
   - 连成5子自动检测
   - 获胜棋子高亮闪烁
   - 显示获胜界面

6. **游戏结束**：
   - 查看统计数据
   - 选择再玩一局或退出

## 🖥️ 界面说明

### 游戏头部
- **游戏标题**：⚫ Gomoku - 五子棋
- **副标题**：Connect 5 stones in a row to win!

### 侧边栏（左侧/顶部）

#### 统计数据区
标题："Statistics"

**玩家胜局统计**（2列网格）：

1. **Black（黑方）**：
   - 图标：黑色棋子
   - 名称：Black
   - 胜局数：大号数字（紫色）
   - 标签：Wins

2. **White（白方）**：
   - 图标：白色棋子
   - 名称：White
   - 胜局数：大号数字（紫色）
   - 标签：Wins

**通用统计**（2项）：
- **Draws**（平局）：平局次数
- **Total Games**（总局数）：总对局数

**重置按钮**：
- 图标：垃圾桶
- 文字："Reset Stats"
- 颜色：红色边框
- 功能：清空所有统计（需确认）

#### 游戏说明区
标题："How to Play"

**4条规则**：
- ✓ Players take turns placing stones
- ✓ Click any empty intersection
- ✓ Connect 5 in a row to win
- ✓ Can be horizontal, vertical, or diagonal

### 主游戏区（中间/下方）

#### 当前玩家显示
**悬浮卡片**（顶部）：

**内容**：
- **棋子预览**：
  - 尺寸：40×40px
  - 颜色：当前玩家颜色
  - 脉冲动画（1.5秒循环）
  
- **提示文字**：
  - 黑方："Black's Turn"
  - 白方："White's Turn"
  - 字体：1.5rem，粗体

#### 游戏棋盘

**棋盘容器**：
- 白色背景卡片
- 圆角 20px
- 阴影效果

**棋盘尺寸**：
- 桌面：600×600px
- 平板（≤768px）：480×480px
- 手机（≤550px）：380×380px
- 小手机（≤450px）：320×320px

**棋盘外观**：
- 背景：木质纹理渐变
- 边框：3px 深棕色
- 内边距：20px
- 网格线：SVG绘制的15×15网格

**交叉点**：
- 总数：225个（15×15）
- 点击区域：格子尺寸
- 悬停效果：半透明圆形提示
- 已落子位置：禁止点击

**棋子样式**：
- **黑棋**：
  - 径向渐变（灰→黑）
  - 内阴影 + 外阴影
  - 立体效果
  
- **白棋**：
  - 径向渐变（白→浅灰）
  - 内阴影 + 外阴影
  - 立体效果

**落子动画**：
- 从无到有缩放（0 → 1.2 → 1）
- 透明度变化（0 → 1）
- 动画时长：0.3秒

**获胜高亮**：
- 金色发光（rgba(255,215,0,0.8)）
- 脉冲缩放（1.0 → 1.15）
- 亮度变化（1.0 → 1.3）
- 无限循环动画

#### 控制按钮区

**New Game 按钮**：
- 图标：🔄（循环箭头）
- 文字："New Game"
- 样式：紫色边框 + 白底
- 悬停：紫色背景 + 白字

### 游戏结束模态框

**全屏半透明遮罩**：

**主卡片内容**：

**获胜界面**：
- **图标**：
  - 黑方胜：⚫
  - 白方胜：⚪
  - 平局：🤝

- **标题**：
  - 黑方胜："Black Wins!"（黑色）
  - 白方胜："White Wins!"（灰色）
  - 平局："It's a Draw!"

- **消息**：
  - 获胜："Congratulations! You connected 5 stones!"
  - 平局："The board is full! No one wins this time."

- **按钮**：
  - ▶️ "Play Again"（紫色渐变）

**动画效果**：
- 弹跳进场（缩放 + 旋转）
- 从0.3倍到1.05倍再到1倍
- 带轻微旋转（-5° → 2° → 0°）

## 🎨 视觉效果

### 配色方案
- **主色调**：紫色（#4F3FF0）
- **次色调**：浅紫（#D5DEFF）
- **黑棋色**：黑色（#000000）
- **白棋色**：白色（#FFFFFF）
- **背景**：紫色渐变（#667eea → #764ba2）
- **棋盘**：木质色（#E7C27D → #D4A862）
- **边框**：深棕（#8B5A2B）

### 动画效果

1. **棋子落下**：缩放 + 透明度（0.3秒）
2. **获胜脉冲**：缩放 + 亮度循环（0.6秒）
3. **当前玩家**：棋子脉冲（1.5秒）
4. **模态框弹入**：缩放 + 旋转（0.6秒）
5. **按钮悬停**：上浮2px + 阴影
6. **悬停提示**：半透明圆形

### 特殊效果
- **立体棋子**：径向渐变 + 双重阴影
- **木质棋盘**：渐变纹理
- **获胜高亮**：金色发光 + 脉冲
- **毛玻璃**：头部 backdrop-filter 模糊
- **平滑过渡**：0.3s ease 过渡

## 📱 响应式支持

### 桌面设备（> 1024px）
- 侧边栏：左侧固定（sticky）
- 棋盘：600×600px
- 双列布局

### 平板设备（≤ 1024px）
- 侧边栏：顶部横向布局
- 棋盘：600×600px
- 单列布局

### 手机设备（≤ 768px）
- 侧边栏：垂直布局
- 棋盘：480×480px
- 玩家指示：缩小

### 小手机（≤ 550px）
- 棋盘：380×380px
- 标题：垂直排列
- 统计：单列

### 超小手机（≤ 450px）
- 棋盘：320×320px
- 按钮：缩小字体
- 内边距：减小

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html`
2. 黑方先行，点击任意空位
3. 白方应对，轮流对弈
4. 连成五子获胜！

### 外部依赖
- **Google Fonts**：Poppins 字体

### 浏览器要求
- ✅ 支持 ES6 语法
- ✅ 支持 CSS Grid
- ✅ 支持 localStorage
- ✅ 支持 SVG
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari

## 💡 游戏技巧

### 新手技巧
1. **中央优势**：优先占领棋盘中央位置
2. **双向思考**：既要进攻也要防守
3. **及时阻断**：对手连成3子时及时阻断
4. **观察全局**：不要只关注局部
5. **避免盲目**：每步都要有目的

### 进阶技巧
1. **三三禁手**：注意禁手规则（本游戏未实现）
2. **活三眠三**：区分活三（两端可延伸）和眠三
3. **四四必胜**：形成双活四必胜
4. **三四胜势**：活三+活四组合
5. **VCF战术**：连续冲四取胜

### 高手技巧
1. **多线进攻**：同时在多个方向形成威胁
2. **虚实结合**：虚张声势，实则防守
3. **诱敌深入**：设置陷阱引诱对手
4. **控制节奏**：掌握进攻和防守的节奏
5. **全局视野**：预判3-5步后的棋局

### 开局策略

**黑方开局**：
- **天元开局**：中央(7,7)落子
- **直指开局**：稍偏位置开局
- **浦月开局**：经典开局布局
- **梅花开局**：四角布局

**白方应对**：
- **压制策略**：限制黑方扩展
- **均衡发展**：保持平衡
- **伺机反击**：等待黑方失误

### 中局技巧
1. **控制中心**：占据棋盘中央
2. **形成威胁**：多方向同时威胁
3. **灵活应变**：根据局势调整策略
4. **保持主动**：掌握进攻主动权
5. **耐心防守**：不急于求成

### 终局要点
1. **计算精准**：精确计算获胜步数
2. **不留余地**：必胜局面不给机会
3. **防守反击**：劣势时寻找转机
4. **冷静应对**：关键时刻保持冷静
5. **善始善终**：优势时稳健收官

## 🏆 挑战目标

### 胜局挑战
- 🥉 **新手**：赢得 1 局
- 🥈 **入门**：赢得 5 局
- 🥇 **熟练**：赢得 10 局
- 💎 **高手**：赢得 25 局
- 👑 **大师**：赢得 50 局
- 🌟 **传奇**：赢得 100+ 局

### 胜率挑战
- 📊 **稳定者**：胜率达到 50%
- 📈 **优势者**：胜率达到 60%
- 🎯 **主宰者**：胜率达到 70%
- 🏅 **完美者**：胜率达到 80%

### 连胜挑战
- 🔥 **二连胜**：连续赢2局
- ⚡ **三连胜**：连续赢3局
- 💪 **五连胜**：连续赢5局
- 🏆 **十连胜**：连续赢10局

## 📄 文件结构

```
Gomoku/
├── index.html          # 游戏主页面
├── style.css           # 样式表（UI设计、动画）
├── script.js           # 游戏逻辑（落子、判定）
└── README.md           # 本文档
```

## 🔧 技术细节

### 核心参数
```javascript
棋盘尺寸: 15×15 = 225个交叉点
棋盘尺寸: 600×600px（桌面）
格子间距: 560px / 14 = 40px
内边距: 20px

玩家:
  1 = 黑方（先手）
  2 = 白方（后手）
```

### 棋盘初始化
```javascript
动态计算:
1. 获取棋盘实际宽度
2. 计算内边距
3. 计算有效网格区域（宽度 - 2×边距）
4. 计算格子间距（网格/14，15个点需要14个间隔）
5. 为每个交叉点创建可点击区域
6. 精确定位到交叉点中心
```

### 获胜检测算法
```javascript
四个方向:
  [0, 1]   → 横向（→）
  [1, 0]   → 纵向（↓）
  [1, 1]   → 对角线（↘）
  [1, -1]  → 反对角线（↗）

检测流程:
1. 从落子点开始
2. 向前检测（最多4格）
3. 向后检测（最多4格）
4. 统计同色棋子数量
5. 总数≥5返回true

边界检查:
  - 坐标不能<0或≥15
  - 颜色必须与当前玩家一致
```

### 统计数据结构
```json
{
  "player1Wins": 0,    // 黑方胜局
  "player2Wins": 0,    // 白方胜局
  "draws": 0,          // 平局
  "totalGames": 0      // 总局数
}

存储键: 'gomokuStats'
存储位置: localStorage
```

### 棋盘渲染
- 使用 CSS Grid 定位
- 每个交叉点一个 div
- absolute 定位到精确坐标
- transform: translate(-50%, -50%) 居中
- 网格线使用 SVG background-image

### 响应式计算
```javascript
窗口调整时:
1. 清除定时器（防抖）
2. 延迟250ms后重新计算
3. 仅在棋盘为空时重新初始化
4. 保留游戏进行中的棋盘
```

## 🐛 反馈与支持

### 常见问题

**Q: 如何获胜？**  
A: 在横向、纵向、或两个对角线方向任一方向连成5个同色棋子即可获胜。

**Q: 黑方是否有先手优势？**  
A: 是的，五子棋黑方先手有一定优势，这也是为什么职业赛制会有禁手规则。本游戏未实现禁手。

**Q: 可以悔棋吗？**  
A: 不可以，本游戏不支持悔棋功能，请谨慎落子。

**Q: 如何重新开始？**  
A: 点击"New Game"按钮清空棋盘重新开始。

**Q: 统计数据会保存吗？**  
A: 会的，所有统计数据保存在浏览器 localStorage 中，除非清除浏览器数据或点击"Reset Stats"。

**Q: 可以和电脑对弈吗？**  
A: 不可以，本游戏仅支持双人本地对弈，不支持AI对手。

**Q: 获胜后棋子为什么会发光？**  
A: 获胜的5个（或更多）棋子会以金色高亮并脉冲动画，帮助识别获胜线路。

**Q: 平局如何判定？**  
A: 当所有225个交叉点都落满棋子且无人获胜时，判定为平局。

**Q: 棋盘可以调整大小吗？**  
A: 棋盘大小会根据设备屏幕自动调整，在手机上会缩小以适应屏幕。

**Q: 如何重置统计数据？**  
A: 点击侧边栏"Reset Stats"按钮，确认后清空所有统计。

### 已知限制
- 无悔棋功能
- 无AI对手
- 无禁手规则（如三三禁手）
- 无时间限制
- 无在线对战
- 无棋谱保存
- 无复盘功能
- 单机双人游戏

### 性能优化建议
- 使用现代浏览器
- 避免在低性能设备上使用
- 定期清理浏览器缓存

### 未来改进方向
- 🤖 添加AI对手（不同难度）
- ↩️ 添加悔棋功能
- 📜 添加禁手规则选项
- ⏱️ 添加时间限制模式
- 💾 添加棋谱保存和加载
- 📊 添加详细对局分析
- 🌐 添加在线对战功能
- 🎨 多种棋盘和棋子皮肤
- 🔊 添加落子音效
- 📱 优化触摸屏体验
- 🏆 添加天梯排位系统
- 📖 添加教学模式
- 🎬 添加复盘功能

---

**准备好对弈五子棋了吗？开始游戏吧！** ⚫⚪🎮✨
