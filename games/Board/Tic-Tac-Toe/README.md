# ❌⭕ Tic-Tac-Toe | 井字棋

经典三子棋游戏！对战好友或挑战AI，连成三子获胜！

## 📖 游戏简介

Tic-Tac-Toe（井字棋、圈圈叉叉）是一款风靡全球的经典策略棋类游戏。两位玩家在 3×3 的棋盘上轮流落子，X 先行，O 后手，率先在横向、纵向或斜向连成三个同样符号的一方获胜。游戏规则简单却充满策略性，考验玩家的逻辑思维和预判能力。本游戏支持双人对战（PvP）和人机对战（AI）两种模式，分别记录统计数据，并提供本地保存功能！

### 游戏特色
- **双模式**：Player vs Player（本地双人）、Player vs AI（人机对战）
- **智能AI**：AI采用策略算法，具有一定挑战性
- **分离统计**：两种模式独立记录胜负数据
- **精美动画**：脉冲、弹出、高亮等流畅动画
- **获胜高亮**：获胜的三个格子自动高亮
- **本地保存**：统计数据自动保存到浏览器
- **响应式设计**：完美适配各种设备

## 🎮 游戏玩法

### 基本操作

**鼠标操作**：
- 点击空白格子放置符号（X 或 O）
- 点击"New Game"重新开始游戏
- 点击模式按钮切换游戏模式

### 游戏规则

#### 核心规则
- **棋盘**：3×3 网格（9个格子）
- **符号**：X（❌）和 O（⭕）
- **先手**：X 玩家先行
- **目标**：在任意方向连成三个同样符号

#### 获胜条件（8种）

**横向（3种）**：
```
✅ X X X    ✅ _ _ _    ✅ _ _ _
   _ _ _       O O O       _ _ _
   _ _ _       _ _ _       X X X
```

**纵向（3种）**：
```
✅ X _ _    ✅ _ O _    ✅ _ _ X
   X _ _       _ O _       _ _ X
   X _ _       _ O _       _ _ X
```

**对角线（2种）**：
```
✅ X _ _    ✅ _ _ O
   _ X _       _ O _
   _ _ X       O _ _
```

#### 平局条件
- 所有 9 个格子都被填满
- 没有任何一方连成三子
- 显示平局界面

### 游戏模式

#### Player vs Player（双人对战，默认）

**玩法**：
- 两位玩家在同一设备上轮流操作
- X 玩家先手，O 玩家后手
- 交替点击空白格子落子

**统计**：
- X 玩家获胜次数
- O 玩家获胜次数
- 平局次数

**适合**：
- 本地双人游戏
- 朋友对战
- 休闲娱乐

#### Player vs AI（人机对战）

**玩法**：
- 玩家使用 X（先手）
- AI 使用 O（后手）
- 玩家落子后，AI 自动响应（延迟500ms）

**AI策略**（按优先级）：
1. **优先获胜**：如果AI可以连成三子，立即下这一步
2. **阻止玩家**：如果玩家即将连成三子，立即阻断
3. **占据中心**：如果中心格空着，优先占据
4. **占据角落**：随机选择可用的角落（4个角）
5. **随机落子**：在剩余空格中随机选择

**统计**：
- 玩家获胜次数
- AI 获胜次数
- 平局次数

**适合**：
- 单人练习
- 策略学习
- 挑战AI

### 游戏流程

1. **选择模式**：
   - 默认 Player vs Player 模式
   - 点击"Player vs AI"切换模式
   - 切换模式自动重置棋盘

2. **开始游戏**：
   - X 玩家先手
   - 当前玩家指示器显示轮到谁

3. **轮流落子**：
   - X 玩家点击空格
   - 符号❌出现（放大旋转动画）
   - 自动切换到 O 玩家
   - O 玩家落子（或AI自动）

4. **获胜判定**：
   - 每次落子后检测获胜条件
   - 连成三子的格子高亮（脉冲发光）
   - 延迟 800ms 显示结果模态框

5. **游戏结束**：
   - 显示获胜者或平局
   - 更新统计数据
   - 选择再玩一次

## 🖥️ 界面说明

### 游戏头部
- **游戏标题**：❌⭕ Tic-Tac-Toe
- **副标题**："Connect three in a row to win!"

### 侧边栏（左侧/顶部）

#### 游戏模式选择
标题："Game Mode"

**2个模式按钮**（垂直排列）：

1. **👥 Player vs Player**（默认激活）：
   - 图标：👥
   - 文字："Player vs Player"
   - 激活状态：紫色渐变背景

2. **🤖 Player vs AI**：
   - 图标：🤖
   - 文字："Player vs AI"

**按钮样式**：
- 默认：白底 + 灰色边框
- 激活：紫色渐变 + 白色文字
- 悬停：向右移动3px

#### 统计数据区
标题："Statistics"

**3个统计项**：

**PvP 模式**：
- Player X Wins：X 玩家胜局
- Player O Wins：O 玩家胜局
- Draws：平局次数

**AI 模式**：
- Player Wins：玩家胜局
- AI Wins：AI 胜局
- Draws：平局次数

**统计样式**：
- 浅灰背景卡片
- 左侧：标签文字
- 右侧：数字（紫色，1.1rem）

**重置按钮**：
- 图标：垃圾桶 SVG
- 文字："Reset Stats"
- 颜色：红色边框
- 功能：清空当前模式统计（需确认）

### 主游戏区（中间/右侧）

#### 当前玩家指示器

**悬浮卡片**（最大宽度500px）：

**内容**：
- 标签："Current Turn:"
- 符号：❌ 或 ⭕
- 符号大小：2.5rem
- 脉冲动画（1.5秒循环）

#### 游戏棋盘

**棋盘容器**：
- 白色背景卡片
- 圆角 20px
- 阴影效果

**棋盘规格**：
- 尺寸：3×3 网格
- 桌面：140×140px 每格
- 平板（≤768px）：110×110px 每格
- 手机（≤480px）：90×90px 每格
- 间隙：10px（桌面）、8px（平板）、6px（手机）

**格子样式**：
- 背景：白色
- 符号：5rem（桌面）、4rem（平板）、3rem（手机）
- 悬停：浅紫背景 + 放大1.05倍
- 点击：缩小0.95倍

**符号颜色**：
- X（❌）：红色（#FF6B6B）
- O（⭕）：青色（#4ECDC4）

**落子动画**（cellAppear，0.3秒）：
- 从无到有缩放（0 → 1.2 → 1）
- 带轻微旋转（0° → 10° → 0°）
- 透明度变化（0 → 1）

**获胜高亮**（winPulse，0.6秒循环）：
- 渐变背景（绿色+紫色半透明）
- 脉冲缩放（1.0 → 1.1 → 1.0）
- 发光阴影（20px → 40px）

#### 游戏状态栏

**悬浮卡片**（最小宽度300px）：

**状态文字**（1.3rem）：
- 进行中：`Player X's turn`
- 获胜：`Player X Wins!`（绿色）
- 平局：`It's a Draw!`（黄色）

#### 控制按钮

**New Game 按钮**：
- 图标：🔄（循环箭头SVG）
- 文字："New Game"
- 样式：白底 + 阴影
- 悬停：上浮2px + 紫色边框

### 游戏结束模态框

**全屏半透明遮罩**：

**主卡片内容**（弹入动画）：

**图标**（6rem）：
- 获胜：🏆
- 平局：🤝
- 旋转动画（iconSpin，1秒）

**标题**（2.5rem，渐变文字）：
- X 获胜：`Player X Wins!`（绿色→紫色渐变）
- O 获胜：`Player O Wins!`（绿色→紫色渐变）
- 平局：`It's a Draw!`（黄色→紫色渐变）

**消息**：
- 获胜："Congratulations on your victory!"
- 平局："Good game! Try again?"

**Play Again 按钮**：
- 紫色渐变背景
- 悬停上浮效果

## 🎨 视觉效果

### 配色方案
- **主色调**：紫色（#667eea）
- **次色调**：深紫（#764ba2）
- **成功色**：绿色（#00D9A6）
- **失败色**：红色（#FF6B6B）
- **警告色**：黄色（#FFD93D）
- **X 符号色**：红色（#FF6B6B）
- **O 符号色**：青色（#4ECDC4）
- **背景**：紫色渐变（#667eea → #764ba2）

### 动画效果

1. **脉冲动画**（pulse）：
   - 当前玩家符号
   - 缩放 1.0 → 1.15 → 1.0
   - 1.5秒循环

2. **格子出现**（cellAppear）：
   - 落子时播放
   - 缩放 + 旋转
   - 0.3秒单次

3. **获胜脉冲**（winPulse）：
   - 获胜格子高亮
   - 缩放 + 发光
   - 0.6秒循环

4. **模态框弹入**（modalBounce）：
   - 缩放 + 旋转
   - 0.3倍 → 1.05倍 → 1倍
   - -5° → 2° → 0°
   - 0.6秒

5. **图标旋转**（iconSpin）：
   - 缩放 + 旋转360°
   - 1秒单次

### 特殊效果
- **毛玻璃**：头部 backdrop-filter 模糊
- **渐变文字**：标题和模态框使用渐变裁剪
- **阴影层次**：多级 box-shadow
- **悬停上浮**：按钮悬停上浮效果
- **平滑过渡**：0.3s ease 过渡

## 📱 响应式支持

### 桌面设备（> 1024px）
- 双列布局（侧边栏 + 游戏区）
- 侧边栏：sticky 定位（280px宽）
- 棋盘：140×140px 每格
- 符号：5rem

### 平板设备（≤ 1024px）
- 单列布局
- 侧边栏：横向布局（顶部）
- 棋盘：140×140px 每格

### 手机设备（≤ 768px）
- 侧边栏：垂直布局
- 棋盘：110×110px 每格
- 符号：4rem

### 小手机（≤ 480px）
- 标题：垂直排列
- 棋盘：90×90px 每格
- 符号：3rem
- 玩家指示器：垂直排列

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html`
2. 选择游戏模式（PvP 或 AI）
3. X 先手，点击空格开始！

### 外部依赖
- **Google Fonts**：Poppins 字体

### 浏览器要求
- ✅ 支持 ES6 语法
- ✅ 支持 CSS Grid & Flexbox
- ✅ 支持 localStorage
- ✅ 支持 CSS 动画
- ✅ Chrome / Edge（推荐）
- ✅ Firefox
- ✅ Safari

## 💡 游戏技巧

### 基础策略
1. **中心优势**：优先占据中心格（参与4条获胜线）
2. **角落次之**：角落参与3条获胜线
3. **边缘最后**：边缘只参与2条获胜线
4. **双线进攻**：创造两个获胜威胁
5. **及时防守**：阻止对手连成三子

### PvP 技巧
1. **先手优势**：X 先手有理论优势
2. **开局套路**：
   - X占中心，O应角
   - X占角，O应中心
3. **叉子战术**：同时形成两条威胁线
4. **强制应对**：逼迫对手走特定位置

### 对战 AI 技巧
1. **理解 AI**：AI 采用贪心策略，有固定逻辑
2. **利用中心**：抢占中心位置
3. **角落布局**：利用角落形成多线威胁
4. **避免陷阱**：不要给AI轻易连成三子的机会
5. **双线威胁**：创造 AI 无法同时阻断的两条线

### 必胜/必不败策略
- **先手最佳开局**：占中心 → 对角角落 → 形成叉子
- **后手最佳应对**：对手占中心则占角，对手占角则占中心
- **完美对局**：双方完美操作必然平局

## 🏆 挑战目标

### 获胜挑战
- 🥉 **新手**：赢得第一局
- 🥈 **熟练**：连胜 3 局
- 🥇 **高手**：连胜 5 局
- 💎 **大师**：AI模式连胜 10 局

### 统计挑战
- 📊 **稳定者**：总局数达到 50 局
- 📈 **坚持者**：总局数达到 100 局
- 🎯 **热爱者**：总局数达到 500 局

### 胜率挑战（AI 模式）
- ⚡ **入门**：胜率达到 30%
- 💪 **熟练**：胜率达到 50%
- 🔥 **高手**：胜率达到 70%
- 👑 **大师**：胜率达到 90%+

### 特殊挑战
- 🎯 **完美先手**：10局内不输（AI模式）
- 💯 **零失误**：完美理解游戏机制
- 🌟 **教育者**：教会朋友必胜/必不败策略

## 📄 文件结构

```
Tic-Tac-Toe/
├── index.html          # 游戏主页面
├── style.css           # 样式表（UI设计、动画）
├── index.js            # 游戏逻辑（判定、AI、统计）
└── README.md           # 本文档
```

## 🔧 技术细节

### 获胜条件数组
```javascript
winConditions = [
  [0, 1, 2],  // 第一行
  [3, 4, 5],  // 第二行
  [6, 7, 8],  // 第三行
  [0, 3, 6],  // 第一列
  [1, 4, 7],  // 第二列
  [2, 5, 8],  // 第三列
  [0, 4, 8],  // 主对角线
  [2, 4, 6]   // 副对角线
]
```

### 获胜检测算法
```javascript
function checkWinner() {
  for (let [a, b, c] of winConditions) {
    if (board[a] && 
        board[a] === board[b] && 
        board[a] === board[c]) {
      // 高亮获胜格子
      highlightWinningCells(a, b, c);
      return board[a];  // 返回获胜符号
    }
  }
  return null;  // 无人获胜
}
```

### AI 策略实现
```javascript
AI 决策流程:
1. findBestMove('O')  → 尝试获胜
2. findBestMove('X')  → 阻止玩家
3. board[4] === ''    → 占中心
4. corners available  → 占角落（随机）
5. any space         → 随机落子

findBestMove(player):
  遍历所有获胜条件
  如果某条线有2个player符号+1个空格
    返回空格位置
  返回-1（无最佳位置）
```

### 统计数据结构
```json
{
  "pvp": {
    "xWins": 0,
    "oWins": 0,
    "draws": 0
  },
  "ai": {
    "playerWins": 0,
    "aiWins": 0,
    "draws": 0
  }
}

存储键: 'ticTacToeStats'
存储位置: localStorage
```

### 模式切换逻辑
```javascript
切换模式时:
1. 更新 gameMode 变量
2. 更新按钮激活状态
3. 更新统计显示标签
   - PvP: "Player X Wins" / "Player O Wins"
   - AI: "Player Wins" / "AI Wins"
4. 重置棋盘
```

### AI 延迟机制
```javascript
if (gameMode === 'ai' && currentPlayer === 'O') {
  setTimeout(() => makeAIMove(), 500);
}

// 延迟 500ms 让玩家看到自己的落子
// 然后 AI 自动响应
```

## 🐛 反馈与支持

### 常见问题

**Q: 先手是否有优势？**  
A: 是的，X 先手在理论上有优势。双方完美操作会平局，但先手更容易找到获胜机会。

**Q: AI 有多聪明？**  
A: AI 使用贪心策略：优先获胜 → 阻止玩家 → 占中心 → 占角 → 随机。它有一定挑战性但不是无敌的。

**Q: 如何重置统计？**  
A: 点击侧边栏"Reset Stats"按钮，确认后清空当前模式的统计数据。

**Q: 统计数据会保存吗？**  
A: 会的，统计数据保存在浏览器 localStorage 中，除非清除浏览器数据。

**Q: 两种模式的统计是分开的吗？**  
A: 是的，PvP 和 AI 模式的统计数据完全独立，互不影响。

**Q: 可以悔棋吗？**  
A: 不可以，本游戏不支持悔棋功能。

**Q: 为什么 AI 总是 O（后手）？**  
A: 为了游戏平衡，玩家使用先手的 X，AI 使用后手的 O。

**Q: 可以在线对战吗？**  
A: 不可以，本游戏仅支持本地双人和人机对战。

**Q: 完美对局会是什么结果？**  
A: 双方都完美操作会导致平局，这是井字棋的数学结论。

**Q: 如何必胜？**  
A: 对抗非完美对手，使用"叉子战术"创造双重威胁可以获胜。对抗完美对手则无法必胜。

### 已知限制
- 无悔棋功能
- AI 策略固定（非机器学习）
- 无在线对战
- 无棋谱保存
- 无时间限制模式
- 无多局积分制

### 性能优化建议
- 使用现代浏览器
- 游戏轻量级，无特殊要求

### 未来改进方向
- 🤖 添加更强的 AI（Minimax 算法）
- 👥 添加在线多人对战
- 📊 添加详细统计图表
- ⏱️ 添加限时模式
- 💾 添加棋谱保存和回放
- 🎨 添加主题切换
- 🔊 添加音效
- 🏆 添加成就系统
- 📈 添加 ELO 评分系统
- 🎓 添加教学模式
- 🎁 添加每日挑战
- ↩️ 添加悔棋功能

---

**准备好挑战井字棋了吗？开始游戏吧！** ❌⭕🎮✨
