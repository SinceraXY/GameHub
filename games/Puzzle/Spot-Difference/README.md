# 🔍 Spot the Difference | 找不同游戏

找出所有不同之处，考验你的观察力！

## 📖 游戏简介

Spot the Difference（找不同）是一款经典的观察力益智游戏。游戏会在两张画布上生成随机的几何图形，右侧图片中隐藏着多个与左侧不同的地方。玩家需要仔细观察，点击右侧图片中的不同之处，找出所有差异即可过关。游戏提供三种难度，每次关卡都会生成全新的随机图形，永不重复的挑战等着你！

### 游戏特色
- **随机生成图形**：每次关卡都不同，永不重复
- **三种难度**：简单（5个不同点）、中等（7个不同点）、困难（10个不同点）
- **多种不同类型**：颜色、大小、位置三种差异
- **智能提示系统**：黄色闪烁提示，剩余次数根据难度不同
- **Canvas绘制**：五种几何图形 + 八种颜色组合
- **实时进度**：进度条实时显示完成度
- **音效反馈**：成功、错误、提示、胜利四种音效
- **精确标记**：找到的不同点用绿色圆圈+勾号标记

## 🎮 游戏玩法

### 基本操作

**查找不同**：
- 仔细观察左右两张图片
- 点击右侧图片中的不同之处
- 找到：显示绿色圆圈+勾号标记
- 错误：显示红色叉号，0.5秒后消失

**使用提示**：
- 点击"💡 提示"按钮
- 黄色圆圈闪烁3次（共6次闪烁）
- 消耗1次提示机会
- 随机提示一个未发现的不同点

**重新开始**：
- 点击"🔄 重新开始"按钮
- 生成新的图形布局
- 步数和时间重置

**跳过关卡**：
- 点击"⏭️ 跳过"按钮
- 进入下一关

**返回菜单**：
- 点击"🏠 选择难度"按钮
- 重新选择难度

### 游戏规则

#### 游戏目标

**胜利条件**：
- 找出所有不同之处
- 已找到数量 = 总不同点数

#### 三种难度

**🟢 简单（Easy）**：
- 不同点数量：5个
- 提示次数：3次
- 适合：新手玩家

**🟡 中等（Medium）**：
- 不同点数量：7个
- 提示次数：2次
- 适合：普通玩家

**🔴 困难（Hard）**：
- 不同点数量：10个
- 提示次数：1次
- 适合：高级玩家

#### 图形生成规则

**形状类型**（5种）：
- ⭕ 圆形（Circle）
- ⬜ 正方形（Square）
- 🔺 三角形（Triangle）
- ⭐ 五角星（Star）
- ⬡ 六边形（Hexagon）

**颜色选择**（8种）：
- 🔴 红色（#FF6B6B）
- 🟢 青色（#4ECDC4）
- 🔵 蓝色（#45B7D1）
- 🟠 橙色（#FFA07A）
- 🟩 淡绿（#98D8C8）
- 🟡 黄色（#F7DC6F）
- 🟣 紫色（#BB8FCE）
- 🔷 浅蓝（#85C1E2）

**图形参数**：
- 数量：15-25个随机
- 大小：20-50px随机
- 位置：画布内随机（留50px边距）
- 旋转：0-360度随机

#### 不同点类型

**颜色不同**：
- 右侧图形改变颜色
- 从其他7种颜色中随机选择

**大小不同**：
- 右侧图形改变尺寸
- 在20-50px范围内随机

**位置不同**：
- 右侧图形改变位置
- 在画布范围内重新定位

#### 点击检测

**有效范围**：
- 点击半径：30px
- 点击位置与不同点中心距离 ≤ 30px

**点击反馈**：
- **找到**：
  - 绿色圆圈标记（半径25px）
  - 绿色勾号
  - 成功音效（800Hz）
  - 更新进度条
- **错误**：
  - 红色叉号
  - 0.5秒后自动消失
  - 错误音效（200Hz）

### 提示系统

**提示机制**：
- 从未发现的不同点中随机选择一个
- 黄色圆圈闪烁提示（半径30px）
- 闪烁6次，每次0.3秒（亮→暗交替）
- 提示音效（600Hz）

**提示次数**：
- 简单：3次
- 中等：2次
- 困难：1次
- 用完后无法再使用

### 统计系统

**🎯 关卡**：
- 从1开始递增
- 每次下一关+1

**✅ 已找到**：
- 格式：已找到/总数（如"3/5"）
- 实时更新

**⏱️ 时间**：
- 格式：MM:SS
- 从关卡开始计时
- 完成后停止

**💡 提示**：
- 剩余提示次数
- 使用后减少

**进度条**：
- 完成百分比：(已找到 / 总数) × 100%
- 紫色渐变填充
- 光波动画效果

## 🖥️ 界面说明

### 游戏头部
- **标题**："🔍 Spot the Difference"（渐变文字）
- **副标题**："找不同 - 找出所有不同之处！"

### 信息栏（4项）

1. **关卡**：
   - 当前关卡编号
   - 紫色渐变背景

2. **已找到**：
   - 格式：已找到/总数
   - 实时更新

3. **时间**：
   - MM:SS格式
   - 每秒更新

4. **提示**：
   - 剩余提示次数

### 游戏区域

**左侧图片**：
- 标题："原图"
- 底部提示："仅供参考"
- Canvas画布：400×400px
- 只供观察，不可点击

**右侧图片**：
- 标题："找不同"
- 底部提示："点击找出不同"
- Canvas画布：400×400px
- 可点击查找不同
- 鼠标光标：十字准星

**画布样式**：
- 背景：白色
- 边框：圆角10px
- 阴影效果
- 自适应尺寸

### 进度条

**显示位置**：游戏区域下方

**样式**：
- 标签："完成进度"
- 背景：灰色（#e0e0e0）
- 填充：紫色渐变
- 高度：30px
- 动画：光波滑动效果

### 控制按钮（4个）

1. **💡 提示**：
   - 消耗提示次数
   - 黄色闪烁提示
   - 紫色渐变按钮

2. **🔄 重新开始**：
   - 重新生成图形
   - 重置统计
   - 紫色渐变按钮

3. **🏠 选择难度**：
   - 返回开始菜单
   - 重新选择难度
   - 紫色渐变按钮

4. **⏭️ 跳过**：
   - 进入下一关
   - 紫色渐变按钮

### 游戏说明

**🎯 游戏目标**：
- "在右侧图片中找出所有与左侧不同的地方！"

**🎮 操作方式**：
- "点击右侧图片中的不同之处，找出所有差异即可过关！"

### 开始遮罩

**显示时机**：游戏加载时

**内容**：
- 标题："🔍 Spot the Difference"
- 副标题："考验你的观察力！"
- "开始游戏"按钮（紫色）
- 难度选择（3个按钮）

**难度卡片**：
- 简单：5个不同点
- 中等：7个不同点
- 困难：10个不同点

### 胜利弹窗

**显示时机**：找到所有不同点

**弹窗头部**：
- 标题："🎉 恭喜过关！"
- 紫色渐变背景

**统计信息**（3项）：
- 关卡编号
- 用时
- 剩余提示次数

**两个按钮**：
- "下一关"（紫色）
- "重玩"（白底紫边）

## 🎨 视觉效果

### 配色方案
- **主色调**：紫色（#667eea）
- **次色调**：深紫（#764ba2）
- **成功色**：绿色（#22BB33）
- **错误色**：红色（#FF4444）
- **提示色**：黄色（#FFD93D）
- **背景渐变**：紫色 → 深紫

### 标记效果

**找到标记**（绿色）：
- 圆圈：半径25px，4px线宽
- 勾号：线宽4px
- 绿色光晕
- 出现在两个画布上

**错误标记**（红色）：
- 叉号：3px线宽
- 0.5秒后消失
- 仅显示在右侧画布

**提示闪烁**（黄色）：
- 圆圈：半径30px，4px线宽
- 光晕：20px模糊
- 闪烁6次（0.3秒间隔）

### 动画效果

1. **进度条光波**（shimmer）：
   - 白色半透明光带
   - 从左到右滑动
   - 2秒循环

2. **标记出现**（markAppear）：
   - 从0缩放到1
   - 旋转360度
   - 0.5秒动画

3. **提示脉冲**（hintPulse）：
   - 光晕扩散
   - 0→20px
   - 1秒动画

### 音效系统

**成功音效**：
- 频率：800Hz
- 类型：正弦波
- 时长：0.3秒

**错误音效**：
- 频率：200Hz
- 类型：锯齿波
- 时长：0.2秒

**提示音效**：
- 频率：600Hz
- 类型：三角波
- 时长：0.3秒

**胜利音效**：
- 三个音符：523Hz、659Hz、784Hz
- 间隔：0.15秒
- 时长：0.4秒/音符

## 📱 响应式支持

### 桌面（> 768px）
- 信息栏：4列
- 游戏区域：2列（左右布局）
- 统计卡片：3列

### 平板/手机（≤ 768px）
- 信息栏：2×2网格
- 游戏区域：单列（上下布局）
- 控制按钮：垂直排列，全宽
- 统计卡片：单列

### 小手机（≤ 480px）
- 字体缩小
- 内边距减小
- Canvas自适应宽度

## 🚀 快速开始

### 运行游戏
1. 在浏览器中打开 `index.html`
2. 选择难度（默认简单）
3. 点击"开始游戏"
4. 点击右侧图片找出不同之处！

### 浏览器要求
- ✅ 支持 Canvas API
- ✅ 支持 ES6 JavaScript
- ✅ 支持 Web Audio API
- ✅ Chrome / Edge / Firefox / Safari

## 💡 游戏技巧

### 基础策略

1. **系统化扫描**：
   - 从上到下，从左到右
   - 按区域逐个比对
   - 避免遗漏

2. **关注形状**：
   - 先看形状是否一致
   - 再看颜色差异
   - 最后看大小和位置

3. **颜色对比**：
   - 颜色差异最明显
   - 优先查找颜色不同的图形
   - 注意相似颜色

4. **大小判断**：
   - 仔细对比图形尺寸
   - 大小差异可能较小
   - 需要仔细观察

5. **位置变化**：
   - 对比图形的相对位置
   - 注意是否有图形位移
   - 参考周围图形

### 进阶技巧

**分区查找**：
- 将画布分成4个区域
- 逐个区域仔细对比
- 提高查找效率

**特征记忆**：
- 记住左侧图形的特征
- 在右侧查找对应图形
- 发现差异

**排除法**：
- 先找明显的不同
- 再找细微的差异
- 最后检查容易遗漏的区域

**合理用提示**：
- 简单难度：保守使用
- 中等难度：卡住时使用
- 困难难度：珍惜唯一的提示

**时间管理**：
- 不要急躁
- 仔细观察比快速点击重要
- 错误点击浪费时间

## 🏆 挑战目标

### 完成挑战
- 🥉 **新手**：完成简单难度
- 🥈 **熟练**：完成中等难度
- 🥇 **高手**：完成困难难度

### 速度挑战
- ⚡ **简单**：< 30秒
- ⚡ **中等**：< 60秒
- ⚡ **困难**：< 120秒

### 完美挑战
- 🏆 简单难度不使用提示
- 🏆 中等难度不使用提示
- 🏆 困难难度不使用提示
- 💎 困难难度 < 60秒且不使用提示

## 🔧 技术细节

### 随机图形生成

```javascript
// 生成15-25个随机形状
const numShapes = Math.floor(Math.random() * 11) + 15;

for (let i = 0; i < numShapes; i++) {
  const shape = {
    type: 5种形状随机,
    x: 50-350随机,
    y: 50-350随机,
    size: 20-50随机,
    color: 8种颜色随机,
    rotation: 0-2π随机
  };
}
```

### 不同点生成

```javascript
// 根据难度确定不同点数量
const totalDifferences = CONFIG.difficulties[difficulty].differences;

// 随机选择不同的形状索引
const diffIndexes = new Set();
while (diffIndexes.size < totalDifferences) {
  const index = Math.floor(Math.random() * numShapes);
  diffIndexes.add(index);
}

// 修改右侧图片
diffIndexes.forEach(index => {
  const diffType = Math.floor(Math.random() * 3);
  
  switch (diffType) {
    case 0: 改变颜色
    case 1: 改变大小
    case 2: 改变位置
  }
});
```

### 点击检测算法

```javascript
// 计算点击位置与不同点的距离
const distance = Math.sqrt(
  Math.pow(clickX - diff.x, 2) + 
  Math.pow(clickY - diff.y, 2)
);

// 判断是否在有效范围内
if (distance <= 30) {
  找到不同点();
}
```

### Canvas绘制

**五角星绘制**：
```javascript
function drawStar(ctx, cx, cy, spikes, outerRadius, innerRadius) {
  // 5个尖角
  // 外半径和内半径交替
  // 旋转角度计算
}
```

**六边形绘制**：
```javascript
function drawPolygon(ctx, x, y, sides, radius) {
  // 6个顶点
  // 均匀分布在圆周上
  // 角度：i * 2π / 6
}
```

### 提示闪烁实现

```javascript
let flashCount = 0;
const flashInterval = setInterval(() => {
  if (flashCount % 2 === 0) {
    // 显示黄色圆圈
  } else {
    // 清除并重绘
  }
  
  flashCount++;
  if (flashCount >= 6) {
    clearInterval(flashInterval);
  }
}, 300);
```

## 🐛 反馈与支持

### 常见问题

**Q: 图形是随机生成的吗？**  
A: 是的，每次关卡都会生成全新的随机图形布局。

**Q: 不同点有哪些类型？**  
A: 颜色、大小、位置三种类型的差异。

**Q: 点击范围有多大？**  
A: 点击位置与不同点中心距离在30px以内即可。

**Q: 提示会显示什么？**  
A: 黄色圆圈闪烁3次，提示一个未发现的不同点位置。

**Q: 提示次数可以恢复吗？**  
A: 不可以，每关固定次数，用完就没有了。

**Q: 为什么点击后显示红叉？**  
A: 点击位置不是不同点，这是错误提示，0.5秒后消失。

**Q: 如何重玩当前关卡？**  
A: 点击"重新开始"会生成新的图形布局。

**Q: 左侧图片可以点击吗？**  
A: 不可以，只能点击右侧图片查找不同。

**Q: 找到的不同点如何标记？**  
A: 绿色圆圈+勾号，显示在两个画布上。

**Q: 如何切换难度？**  
A: 点击"选择难度"返回菜单，重新选择。

### 已知限制
- 无最佳成绩记录
- 无撤销功能
- 无自定义图片
- 图形完全随机，难度可能波动

### 性能优化建议
- 使用现代浏览器
- Canvas硬件加速
- 关闭其他占用GPU的标签页

### 未来改进方向
- 💾 最佳成绩保存
- 🖼️ 自定义图片上传
- 🎨 更多形状和颜色
- 🏅 成就系统
- 📊 详细统计图表
- 🎯 每日挑战
- 👥 多人竞速模式
- 🔊 更丰富的音效
- 💡 智能提示（不完全暴露位置）
- 🎨 主题切换

---

**准备好挑战你的观察力了吗？开始游戏吧！** 🔍🎯✨
